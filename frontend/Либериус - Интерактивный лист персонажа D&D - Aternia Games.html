<!DOCTYPE html>
<!-- saved from url=(0043)https://aternia.games/i/dnd/character_sheet -->
<html lang="ru" data-bs-theme="dark"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="description" content="Заполняемый и редактируемый онлайн лист персонажа редакции D&amp;D5e на русском. Мобильная и настольная версии. Создавайте листы персонажей в любом количестве!">
    <meta name="keywords" content="Лист персонажа, лист игрока, карта персонажа, карточка персонажа, лист игрока, DnD, DnD 5, D&amp;D, D&amp;D5e, Dungeons and Dragons, Атерния, Aternia, Aternia Games">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="B38hraQYY1ax3b0GM7Na8isuaz2YMH4lkco64d8b">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games</title>

    <link rel="apple-touch-icon" sizes="180x180" href="https://aternia.games/img/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://aternia.games/img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://aternia.games/img/favicon/favicon-16x16.png">
    <link rel="shortcut icon" href="https://aternia.games/img/favicon/favicon.ico">
    <link rel="canonical" href="https://aternia.games/i/dnd/character_sheet">

    <!-- Css Styles -->
    <link rel="stylesheet" href="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/all.min.css" type="text/css">
    <link rel="stylesheet" href="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/elegant-icons.css" type="text/css">
    <link rel="stylesheet" href="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/plyr.css" type="text/css">
    <link rel="stylesheet" href="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/nice-select.css" type="text/css">
    <link rel="stylesheet" href="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/slicknav.min.css" type="text/css">
    <link rel="preload" as="style" href="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/style-dBP1IW4B.css"><link rel="stylesheet" href="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/style-dBP1IW4B.css">
    <!-- Scripts -->
    <script async="" src="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/tag.js"></script><script src="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/jquery-3.3.1.min.js"></script>
    <script src="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/popper.min.js"></script>
    <script src="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/bootstrap.bundle.min.js"></script>
    <script src="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/bootstrap-show-toast.js"></script>
    <link rel="modulepreload" href="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/main--Yjr9Ub6.js"><script type="module" src="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/main--Yjr9Ub6.js"></script>        <!-- Yandex.Metrika counter -->
    <script type="text/javascript">
        (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
            m[i].l=1*new Date();
            for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
            k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
        (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
        ym(90924064, "init", {
            clickmap:true,
            trackLinks:true,
            accurateTrackBounce:true,
            webvisor:true
        });
    </script>
    <noscript><div><img src="https://mc.yandex.ru/watch/90924064" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
    <!-- /Yandex.Metrika counter -->
    <!-- Google tag (gtag.js) -->
    <script async="" src="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/js"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-H9QMW7D7TR');
    </script>
    </head>

<body>

<!-- Header Section Begin -->
<header class="header">
    <div class="container">
        <div class="row">
            <div class="col-lg-3">
                <div class="header__logo">
                                            <a href="https://aternia.games/">
                            <img src="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/logo_big.png" alt="">
                        </a>
                                    </div>
            </div>
            <div class="col-lg-7">
                <div class="header__nav">
                    <nav class="header__menu mobile-menu">
                        <ul>
    <li class=""><a href="https://aternia.games/materials">Все материалы</a></li><li class="active "><a href="https://aternia.games/i/dnd/character_sheet">Лист персонажа</a></li><li class=""><a href="https://aternia.games/i/calendar">Календарь</a></li><li class=""><a href="https://aternia.games/i/token">Токен</a></li><li class=""><a href="https://aternia.games/w/%D0%A1%D0%B0%D0%B9%D1%82:%D0%9D%D0%B0%D1%87%D0%B0%D0%BB%D0%BE">Wiki</a></li></ul>
                    </nav>
                </div>
            </div>
            <div class="col-lg-2">
                                <div class="header__right">
                                            <a href="https://aternia.games/user/my">
                            <div class="avatar_border aternia me-1">
                                                                <div class="avatar set-bg" data-setbg="https://lh3.googleusercontent.com/a/ACg8ocInzw3NJK6z2ajwn6uQFNxjPn1EyWUcpB4x4NE_zHXrzJ0adUT_=s96-c" style="background-image: url(&quot;https://lh3.googleusercontent.com/a/ACg8ocInzw3NJK6z2ajwn6uQFNxjPn1EyWUcpB4x4NE_zHXrzJ0adUT_=s96-c&quot;);"></div>
                            </div>
                            <span class="header_nickname">Лев Жифарский</span>
                        </a>
                                    </div>
                            </div>
        </div>
        <div id="mobile-menu-wrap"><div class="slicknav_menu"><a href="https://aternia.games/i/dnd/character_sheet#" aria-haspopup="true" role="button" tabindex="0" class="slicknav_btn slicknav_collapsed"><span class="slicknav_menutxt">Меню</span><span class="slicknav_icon"><span class="slicknav_icon-bar"></span><span class="slicknav_icon-bar"></span><span class="slicknav_icon-bar"></span></span></a><nav class="slicknav_nav slicknav_hidden" style="display: none;" aria-hidden="true" role="menu">
                        <ul>
    <li class=""><a href="https://aternia.games/materials" role="menuitem">Все материалы</a></li><li class="active "><a href="https://aternia.games/i/dnd/character_sheet" role="menuitem">Лист персонажа</a></li><li class=""><a href="https://aternia.games/i/calendar" role="menuitem">Календарь</a></li><li class=""><a href="https://aternia.games/i/token" role="menuitem">Токен</a></li><li class=""><a href="https://aternia.games/w/%D0%A1%D0%B0%D0%B9%D1%82:%D0%9D%D0%B0%D1%87%D0%B0%D0%BB%D0%BE" role="menuitem">Wiki</a></li></ul>
                    </nav></div></div>
    </div>
    </header>
<!-- Header End -->

<!-- div class="flash-message">
                </div -->


    <!--suppress HtmlFormInputWithoutLabel -->
    <section class="product spad">
        <div class="container glass">
            <div class="row">
                <div class="col-12">
                    <div class="section-title">
                        <div id="archived_list"><div class="dropdown float-end">
    <button class="btn btn-success me-1" id="create_sheet" type="button">
        Создать ещё <i class="fa fa-user-plus align-middle"></i>
    </button>
    <button class="btn btn-secondary dropdown-toggle" type="button" id="archive_dropdown" data-bs-toggle="dropdown" aria-expanded="false">
        Архивированные <i class="fa fa-archive align-middle"></i>
    </button>
    <ul class="dropdown-menu dropdown-menu-dark dropdown-menu-end" aria-labelledby="archive_dropdown">
            </ul>
</div>
</div>
                        <h1>Лист персонажа <span class="title_character_name">Либериус</span></h1>
                    </div>
                </div>
            </div>
                        <div class="row">
                <div id="character_list_container" class="col-12 mb-3 pb-2 rounded-bottom" style="max-height: 84px;">
                                            <div id="characters_list"><div class="load_character lh-sm  text-bg-light " data-uuid="f3c0dc3a-d4ba-444c-9dc9-78aee5e841b2" title="Обновлён 2 недели назад">
    <div class="character_title">Либериус</div>
    <div class="character_description wizard">Волшебник 1 уровень</div>
</div><div class="load_character lh-sm  text-bg-dark " data-uuid="76751c57-be7e-45e2-846a-5bca15abba26" title="Обновлён 1 месяц назад">
    <div class="character_title">Новый персонаж</div>
    <div class="character_description">—</div>
</div></div>
                                    </div>
            </div>
            
            <div class="input-group">
                <span class="input-group-text"><label class="form-check-label d-inline-block" for="copy_character_link">Ссылка на персонажа&nbsp;</label><span data-toggle="tooltip" aria-label="Вы можете показать свой лист кому угодно, но редактирование доступно только вам. По ссылке будут видны и результаты бросков кубов, но не Журнал персонажа." data-bs-original-title="Вы можете показать свой лист кому угодно, но редактирование доступно только вам. По ссылке будут видны и результаты бросков кубов, но не Журнал персонажа."><i class="fa fa-question-circle "></i></span>:</span>
                <input type="text" id="copy_character_link" class="form-control" contenteditable="false" value="" disabled="" autocomplete="off">
                <button class="btn btn-outline-primary copy_input_contents" type="button" data-toggle="tooltip" aria-label="Копировать" data-bs-original-title="Копировать">
                    <i class="fa fa-copy" aria-hidden="true"></i>
                </button>
                <button class="btn btn-outline-secondary" id="update_character_link" type="button" data-toggle="tooltip" aria-label="Поменять на новую (старая станет недоступна)" data-bs-original-title="Поменять на новую (старая станет недоступна)">
                    <i class="fa fa-sync" aria-hidden="true"></i>
                </button>
            </div>

            <div class="character_sheet clearfix mb-3">

                <div class="float-xl-end controls mt-3">
                    <div class="sticky_controls">
                        <div class="card text-bg-dark mb-3" id="char_extra_stats">
                            <div class="card-header">
                                <h5 data-toggle="tooltip" data-bs-original-title="Зависит от очков опыта">Уровень: <span data-branch="extra.level">1</span></h5>
                            </div>
                            <div class="card-body">
                                <div class="hidden xp_table">
                                    <table class="table table-dark table-striped table-sm table-borderless"><thead><tr><td>Очки опыта</td><td>Уровень</td></tr></thead><tbody><tr class="tr_back"><td>0</td><td>1</td></tr><tr class="tr_back"><td>300</td><td>2</td></tr><tr class="tr_back"><td>900</td><td>3</td></tr><tr class="tr_back"><td>2700</td><td>4</td></tr><tr><td>6500</td><td>5</td></tr><tr><td>14000</td><td>6</td></tr><tr><td>23000</td><td>7</td></tr><tr><td>34000</td><td>8</td></tr><tr><td>48000</td><td>9</td></tr><tr><td>64000</td><td>10</td></tr><tr class="tr_back"><td>85000</td><td>11</td></tr><tr class="tr_back"><td>100000</td><td>12</td></tr><tr class="tr_back"><td>120000</td><td>13</td></tr><tr class="tr_back"><td>140000</td><td>14</td></tr><tr class="tr_back"><td>165000</td><td>15</td></tr><tr class="tr_back"><td>195000</td><td>16</td></tr><tr><td>225000</td><td>17</td></tr><tr><td>265000</td><td>18</td></tr><tr><td>305000</td><td>19</td></tr><tr><td>355000</td><td>20</td></tr></tbody></table>
                                </div>
                                <img class="mb-2 hidden" id="character_img" src="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/l1duJ8xAmi7nN1ZbmLUW0HNHTKxVNPYY68VdT1dU.jpg" alt="Внешний вид персонажа" style="display: block;">
                                Прыжки:<br>
                                с разбега: <span data-branch="extra.jumps.run_length">8</span>фт. (<span data-branch="extra.jumps.run_length_m">2.4</span>м.)
                                <br>
                                без разбега: <span data-branch="extra.jumps.length">4</span>фт. (<span data-branch="extra.jumps.length_m">1.2</span>м.)
                                <hr>
                                Грузоподъёмность: <span data-branch="extra.carry_capacity">120</span>фнт. (<span data-branch="extra.carry_capacity_kg">54</span>кг.)
                            </div>
                        </div>

                                                    <div id="char_save" class="alert text-center alert-success">Все изменения сохранены</div>
                            <button class="btn btn-success mb-3 w-100" id="force_save"><i class="fa fa-save"></i> Сохранить</button>
                        
                        <div class="card text-bg-dark mb-3 w-100" id="rolls_log">
                            <div class="card-header aternia">
                                <h6>
                                    Журнал бросков<sup data-toggle="tooltip" data-bs-original-title="Пока что в бета-версии. Это значит, что в будущем интерфейс может поменяться.">β</sup>
                                    <span data-toggle="tooltip" aria-label="Журнал бросков сохраняет их навсегда. Никакого жульничества! Вы можете дать ссылку на лист своему мастеру и он сам увидит ваши удачные броски!" data-bs-original-title="Журнал бросков сохраняет их навсегда. Никакого жульничества! Вы можете дать ссылку на лист своему мастеру и он сам увидит ваши удачные броски!"><i class="fa fa-question-circle "></i></span>
                                </h6>
                            </div>
                                                        <div id="dice_tray" class="card-header add_rolls_after text-center pt-1">
                                <div class="clearfix">
                                    <div class="float-end"><small class="fake_link user-select-none invisible" id="empty_dice_bag">сброс</small></div>
                                </div>
                                                                <div class="dice_add_container" data-dice="d2"><i data-toggle="tooltip" class="fa dice_add fa-coin" aria-label="к2" data-bs-original-title="к2"></i><span class="dice_count_badge translate-middle badge rounded-pill bg-primary hidden">0</span></div>
                                <div class="dice_add_container" data-dice="d4"><i data-toggle="tooltip" class="fa dice_add fa-dice-d4" aria-label="к4" data-bs-original-title="к4"></i><span class="dice_count_badge translate-middle badge rounded-pill bg-primary hidden">0</span></div>
                                <div class="dice_add_container" data-dice="d6"><i data-toggle="tooltip" class="fa dice_add fa-dice-d6" aria-label="к6" data-bs-original-title="к6"></i><span class="dice_count_badge translate-middle badge rounded-pill bg-primary hidden">0</span></div>
                                <div class="dice_add_container" data-dice="d8"><i data-toggle="tooltip" class="fa dice_add fa-dice-d8" aria-label="к8" data-bs-original-title="к8"></i><span class="dice_count_badge translate-middle badge rounded-pill bg-primary hidden">0</span></div>
                                <div class="dice_add_container" data-dice="d10"><i data-toggle="tooltip" class="fa dice_add fa-dice-d10" aria-label="к10" data-bs-original-title="к10"></i><span class="dice_count_badge translate-middle badge rounded-pill bg-primary hidden">0</span></div>
                                <div class="dice_add_container" data-dice="d12"><i data-toggle="tooltip" class="fa dice_add fa-dice-d12" aria-label="к12" data-bs-original-title="к12"></i><span class="dice_count_badge translate-middle badge rounded-pill bg-primary hidden">0</span></div>
                                <div class="dice_add_container" data-dice="d20"><i data-toggle="tooltip" class="fa dice_add fa-dice-d20" aria-label="к20" data-bs-original-title="к20"></i><span class="dice_count_badge translate-middle badge rounded-pill bg-primary hidden">0</span></div>
                                <div class="dice_add_container" data-dice="d100"><i data-toggle="tooltip" class="fa dice_add fa-dice-d10" aria-label="к100" data-bs-original-title="к100"></i><span class="dice_count_badge translate-middle badge rounded-pill bg-primary hidden">0</span></div>
                                <div class="d-inline-block text-muted"><i data-toggle="tooltip" class="fa magic-ball fa-pool-8-ball" aria-label="Вопрос магическому шару" data-bs-original-title="Вопрос магическому шару"></i></div>
                                <button id="dice_bag_notation_button" class="btn btn-primary w-100 mt-3 text-center" disabled=""><span id="button_notation_text"></span><i class="fa fa-chevrons-right ms-2"></i></button>
                            </div><div class="card-body py-1">
        <small class="opacity-50 text-nowrap float-end" title="2025-07-05 01:22:28">01:22</small>
        <span class="card-title">  <i class="fa fa-dice-d20"></i>  Интеллект</span>
        <span class="card-text"><small>1d20+2+3 = 14+5 = </small><span class="roll_result  ">19</span></span>
    </div>
<div class="card-body py-1">
        <small class="opacity-50 text-nowrap float-end" title="2025-07-05 01:22:20">01:22</small>
        <span class="card-title">  <i class="fa fa-dice-d20"></i>  Интеллект</span>
        <span class="card-text"><small>1d20+2+3 = 4+5 = </small><span class="roll_result  ">9</span></span>
    </div>
<div class="card-body py-1">
        <small class="opacity-50 text-nowrap float-end" title="2025-07-04 15:38:04">15:38</small>
        <span class="card-title">  <i class="fa fa-dice-d20"></i>  Мудрость</span>
        <span class="card-text"><small>1d20+0 = </small><span class="roll_result  text-success  ">20</span></span>
    </div>

                                                                                    <div class="card-footer p-1 text-end add_rolls_before">
                                <small>
                                    <span class="fake_link" id="load_more_rolls" data-step="10">Загрузить прошлые <i class="fa fa-arrow-down-short-wide align-middle"></i></span>
                                </small>
                            </div>
                                                    </div>

                                                    <div class="btn-group-vertical w-100 mb-3" role="group" aria-label="Служебные кнопки">
                                <button type="button" class="btn btn-dark text-primary btn-sm w-100" id="duplicate_sheet">
                                    <i class="fa fa-copy"></i>
                                    Дублировать лист
                                </button>
                                                                    <button type="button" class="btn btn-dark text-warning btn-sm w-100" id="archive_sheet">
                                        <i class="fa fa-archive"></i>
                                        Архивировать
                                        <span data-toggle="tooltip" aria-label="Ваш персонаж сохранится, но исчезнет из списка. Восстановить его можно будет из списка в верхнем правом углу." data-bs-original-title="Ваш персонаж сохранится, но исчезнет из списка. Восстановить его можно будет из списка в верхнем правом углу."><i class="fa fa-question-circle "></i></span>
                                    </button>
                                    <button type="button" class="btn btn-dark text-danger btn-sm w-100" id="delete_sheet" data-bs-toggle="modal" data-bs-target="#delete_sheet_modal">
                                        <i class="fa fa-trash"></i>
                                        Удалить
                                        <span data-toggle="tooltip" data-bs-html="true" aria-label="&lt;h5&gt;Потребует подтверждения.&lt;/h5&gt; Ваш персонаж будет уничтожен. Имя его поругают и предадут забвению, а труды его растопчут и обратятся они в прах, как и память о нём." data-bs-original-title="&lt;h5&gt;Потребует подтверждения.&lt;/h5&gt; Ваш персонаж будет уничтожен. Имя его поругают и предадут забвению, а труды его растопчут и обратятся они в прах, как и память о нём."><i class="fa fa-question-circle "></i></span>
                                    </button>
                                                            </div>
                        
                                                    <div class="card text-white bg-dark mb-3 w-100">
                                <div class="card-body">
                                    <div class="sheet_color_picker">
                                        Цвет листа:
                                        <span data-toggle="tooltip" aria-label="Сохраняется отдельно для каждого персонажа. Работает только в современных браузерах." data-bs-original-title="Сохраняется отдельно для каждого персонажа. Работает только в современных браузерах."><i class="fa fa-question-circle "></i></span>
                                        <br>
                                        <div style="filter: hue-rotate(0deg) saturate(400%) brightness(100%) invert(0%);" data-toggle="tooltip" data-id="0" data-dark="0" data-classic="1" data-hue_rotate="0" data-saturate="100" data-brightness="100" data-invert="0" class="sheet_color" aria-label="Распечатаю у мастера" data-bs-original-title="Распечатаю у мастера"></div><div style="filter: hue-rotate(180deg) saturate(400%) brightness(100%) invert(100%);" data-toggle="tooltip" data-id="1" data-dark="0" data-classic="0" data-hue_rotate="180" data-saturate="100" data-brightness="100" data-invert="100" class="sheet_color" aria-label="Заполню лист ручкой" data-bs-original-title="Заполню лист ручкой"></div><div style="filter: hue-rotate(218deg) saturate(400%) brightness(100%) invert(100%);" data-toggle="tooltip" data-id="2" data-dark="0" data-classic="0" data-hue_rotate="218" data-saturate="100" data-brightness="100" data-invert="100" class="sheet_color" aria-label="Эти ягоды съедобны?" data-bs-original-title="Эти ягоды съедобны?"></div><div style="filter: hue-rotate(263deg) saturate(400%) brightness(100%) invert(100%);" data-toggle="tooltip" data-id="3" data-dark="0" data-classic="0" data-hue_rotate="263" data-saturate="100" data-brightness="100" data-invert="100" class="sheet_color" aria-label="Хаотично-добрый" data-bs-original-title="Хаотично-добрый"></div><div style="filter: hue-rotate(300deg) saturate(400%) brightness(100%) invert(100%);" data-toggle="tooltip" data-id="4" data-dark="0" data-classic="0" data-hue_rotate="300" data-saturate="100" data-brightness="100" data-invert="100" class="sheet_color" aria-label="Закат в столице" data-bs-original-title="Закат в столице"></div><div style="filter: hue-rotate(350deg) saturate(400%) brightness(100%) invert(100%);" data-toggle="tooltip" data-id="5" data-dark="0" data-classic="0" data-hue_rotate="350" data-saturate="100" data-brightness="100" data-invert="100" class="sheet_color" aria-label="Лоток для табакси" data-bs-original-title="Лоток для табакси"></div><div style="filter: hue-rotate(380deg) saturate(400%) brightness(100%) invert(100%);" data-toggle="tooltip" data-id="6" data-dark="0" data-classic="0" data-hue_rotate="380" data-saturate="100" data-brightness="100" data-invert="100" class="sheet_color" aria-label="Я же говорил, еда отравлена" data-bs-original-title="Я же говорил, еда отравлена"></div><div style="filter: hue-rotate(420deg) saturate(400%) brightness(100%) invert(100%);" data-toggle="tooltip" data-id="7" data-dark="0" data-classic="0" data-hue_rotate="420" data-saturate="100" data-brightness="100" data-invert="100" class="sheet_color" aria-label="А ты точно друид?" data-bs-original-title="А ты точно друид?"></div><div style="filter: hue-rotate(460deg) saturate(400%) brightness(100%) invert(100%);" data-toggle="tooltip" data-id="8" data-dark="0" data-classic="0" data-hue_rotate="460" data-saturate="100" data-brightness="100" data-invert="100" class="sheet_color" aria-label="Скорость передвижения в воде" data-bs-original-title="Скорость передвижения в воде"></div><div style="filter: hue-rotate(0deg) saturate(40%) brightness(90%) invert(0%);" data-toggle="tooltip" data-id="9" data-dark="1" data-classic="0" data-hue_rotate="0" data-saturate="40" data-brightness="90" data-invert="0" class="sheet_color" aria-label="У меня есть тёмное зрение!" data-bs-original-title="У меня есть тёмное зрение!"></div><div style="filter: hue-rotate(0deg) saturate(400%) brightness(100%) invert(0%);" data-toggle="tooltip" data-id="10" data-dark="1" data-classic="0" data-hue_rotate="0" data-saturate="100" data-brightness="100" data-invert="0" class="sheet_color" aria-label="«Тело найдут в порту…»" data-bs-original-title="«Тело найдут в порту…»"></div><div style="filter: hue-rotate(38deg) saturate(400%) brightness(100%) invert(0%);" data-toggle="tooltip" data-id="11" data-dark="1" data-classic="0" data-hue_rotate="38" data-saturate="100" data-brightness="100" data-invert="0" class="sheet_color" aria-label="В этом городе есть бордель?" data-bs-original-title="В этом городе есть бордель?"></div><div style="filter: hue-rotate(83deg) saturate(400%) brightness(100%) invert(0%);" data-toggle="tooltip" data-id="12" data-dark="1" data-classic="0" data-hue_rotate="83" data-saturate="100" data-brightness="100" data-invert="0" class="sheet_color" aria-label="Сколько стоит это вино?" data-bs-original-title="Сколько стоит это вино?"></div><div style="filter: hue-rotate(120deg) saturate(400%) brightness(100%) invert(0%);" data-toggle="tooltip" data-id="13" data-dark="1" data-classic="0" data-hue_rotate="120" data-saturate="100" data-brightness="100" data-invert="0" class="sheet_color" aria-label="Ещё одна степень истощения" data-bs-original-title="Ещё одна степень истощения"></div><div style="filter: hue-rotate(170deg) saturate(400%) brightness(100%) invert(0%);" data-toggle="tooltip" data-id="14" data-dark="1" data-classic="0" data-hue_rotate="170" data-saturate="100" data-brightness="100" data-invert="0" class="sheet_color" aria-label="Опять подземелье…" data-bs-original-title="Опять подземелье…"></div><div style="filter: hue-rotate(200deg) saturate(400%) brightness(100%) invert(0%);" data-toggle="tooltip" data-id="15" data-dark="1" data-classic="0" data-hue_rotate="200" data-saturate="100" data-brightness="100" data-invert="0" class="sheet_color" aria-label="Кузница со скидками" data-bs-original-title="Кузница со скидками"></div><div style="filter: hue-rotate(240deg) saturate(400%) brightness(100%) invert(0%);" data-toggle="tooltip" data-id="16" data-dark="1" data-classic="0" data-hue_rotate="240" data-saturate="100" data-brightness="100" data-invert="0" class="sheet_color" aria-label="Дикая форма" data-bs-original-title="Дикая форма"></div><div style="filter: hue-rotate(280deg) saturate(400%) brightness(100%) invert(0%);" data-toggle="tooltip" data-id="17" data-dark="1" data-classic="0" data-hue_rotate="280" data-saturate="100" data-brightness="100" data-invert="0" class="sheet_color" aria-label="Ячейка седьмого уровня" data-bs-original-title="Ячейка седьмого уровня"></div>                                    </div>
                                    <input type="hidden" name="sheet_colors" id="sheet_colors_input" data-branch="extra.background_colors" autocomplete="off" value="[object Object]">
                                    <hr>
                                    Отображать:
                                                                            <div class="form-check form-switch">
                                            <input class="form-check-input sheet_switch bg-secondary toggle_list" type="checkbox" role="switch" id="show_list_1" data-list="1" checked="" autocomplete="off">
                                            <label class="form-check-label" for="show_list_1"> Лист 1</label>
                                        </div>
                                                                            <div class="form-check form-switch">
                                            <input class="form-check-input sheet_switch bg-secondary toggle_list" type="checkbox" role="switch" id="show_list_2" data-list="2" checked="" autocomplete="off">
                                            <label class="form-check-label" for="show_list_2"> Лист 2</label>
                                        </div>
                                                                            <div class="form-check form-switch">
                                            <input class="form-check-input sheet_switch bg-secondary toggle_list" type="checkbox" role="switch" id="show_list_3" data-list="3" checked="" autocomplete="off">
                                            <label class="form-check-label" for="show_list_3"> Лист 3</label>
                                        </div>
                                                                        <hr>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input sheet_switch bg-secondary" type="checkbox" role="switch" id="wide_screen_switch" autocomplete="off">
                                        <label class="form-check-label" for="wide_screen_switch"> Ультраширокий экран <span data-toggle="tooltip" aria-label="Для разрешений экранов 2K и более. Листы выстраиваются в ряд для обзора на одном экране." data-bs-original-title="Для разрешений экранов 2K и более. Листы выстраиваются в ряд для обзора на одном экране."><i class="fa fa-question-circle "></i></span></label>
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-dark btn-outline-danger mb-3 w-100" id="2pdf"><i class="fa fa-file-pdf"></i> Печать /<br>Экспорт в PDF</button>
                        
                        <div class="mb-3 w-100 text-center fs-2">
                            <a href="https://discord.gg/aw2RGB5BQ2" class="text-light me-2" title="Наш сервер в Discord"><i class="fa-brands fa-discord"></i></a>
                            <a href="https://t.me/aternia_games" class="text-light me-2" title="Наш канал в Telegram"><i class="fa-brands fa-telegram"></i></a>
                        </div>
                    </div>
                </div>

                    <div class="page float-start list_1 mt-3">
                        <div class="page-inner">

                            <div id="p1" class="pageArea rounded">

                                <!-- Begin page background -->
                                <div class="svg_sheet_container" style="filter: hue-rotate(180deg) saturate(100%) brightness(100%) invert(100%);"><object id="pdf1" width="935" height="1210" data="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/1_colored.svg" type="image/svg+xml" style="width:935px; height:1210px; z-index: 0;"></object></div>
                                <div style="width: 1px; height: 1px;">
                                    <img src="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/empty.png" alt="Отсутствует">
                                    <img src="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/unchecked.png" alt="Нет владения">
                                    <img src="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/checked.png" alt="Владение">
                                    <img src="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/x2.png" alt="Компетентность">
                                    <img src="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/half.png" alt="Мастер на все руки">
                                    <img src="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/none.png" alt="Нет">
                                    <img src="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/inspiration.png" alt="Вдохновение">
                                </div>
                                <!-- End page background -->

                                <!-- Begin text definitions (Positioned/styled in CSS) -->
                                <div class="text-container">
                                    <span id="t1_1" class="t s0_1">Раса</span>
                                    <span id="t2_1" class="t s0_1">Класс и уровень</span>
                                    <span id="t3_1" class="t s0_1">Имя игрока</span>
                                    <span id="t4_1" class="t s0_1">Имя персонажа</span>
                                    <span id="t5_1" class="t s0_1">Предыстория</span>
                                    <span id="t6_1" class="t s0_1">Очки опыта</span>
                                    <span id="t7_1" class="t s0_1">Мировоззрение</span>
                                    <span class="t s1_1 last_row secondary_text">TM &amp; © 2014 Wizards of the Coast LLC. Aternia.Games online character sheet.</span>
                                    <span id="t9_1" class="t s2_1 secondary_text">Максимум хитов</span>

                                                                            <span class="t savethrows strength roll_me" data-toggle="popover" data-bs-custom-class="dark-popover roll-popover text-bg-dark text-center" data-roll-branch="stats.base.strength.savethrow.value" data-dice="d20">Сила</span>
                                                                            <span class="t savethrows dexterity roll_me" data-toggle="popover" data-bs-custom-class="dark-popover roll-popover text-bg-dark text-center" data-roll-branch="stats.base.dexterity.savethrow.value" data-dice="d20">Ловкость</span>
                                                                            <span class="t savethrows constitution roll_me" data-toggle="popover" data-bs-custom-class="dark-popover roll-popover text-bg-dark text-center" data-roll-branch="stats.base.constitution.savethrow.value" data-dice="d20">Телосложение</span>
                                                                            <span class="t savethrows intelligence roll_me" data-toggle="popover" data-bs-custom-class="dark-popover roll-popover text-bg-dark text-center" data-roll-branch="stats.base.intelligence.savethrow.value" data-dice="d20">Интеллект</span>
                                                                            <span class="t savethrows wisdom roll_me" data-toggle="popover" data-bs-custom-class="dark-popover roll-popover text-bg-dark text-center" data-roll-branch="stats.base.wisdom.savethrow.value" data-dice="d20">Мудрость</span>
                                                                            <span class="t savethrows charisma roll_me" data-toggle="popover" data-bs-custom-class="dark-popover roll-popover text-bg-dark text-center" data-roll-branch="stats.base.charisma.savethrow.value" data-dice="d20">Харизма</span>
                                    
                                    <span id="tg_1" class="t s3_1 secondary_text" data-toggle="tooltip" data-bs-placement="left" data-bs-original-title="медных монет">мм</span>
                                    <span id="tk_1" class="t s3_1 secondary_text" data-toggle="tooltip" data-bs-placement="left" data-bs-original-title="серебряных монет">см</span>
                                    <span id="th_1" class="t s3_1 secondary_text" data-toggle="tooltip" data-bs-placement="left" data-bs-original-title="электрумовых монет">эм</span>
                                    <span id="tj_1" class="t s3_1 secondary_text" data-toggle="tooltip" data-bs-placement="left" data-bs-original-title="золотых монет">зм</span>
                                    <span id="ti_1" class="t s3_1 secondary_text" data-toggle="tooltip" data-bs-placement="left" data-bs-original-title="платиновых монет">пм</span>

                                    <span id="tl_1" class="t s4_1">Пассивная мудрость (Внимательность)</span>
                                    <span id="tm_1" class="t s5_1 panel3">Снаряжение</span>
                                    <span id="tn_1" class="t s5_1 panel3">Прочие владения и языки</span>
                                    <span id="to_1" class="t s5_1 panel3">Атаки и заклинания</span>
                                    <span id="tp_1" class="t s5_1 panel3">Умения и особенности</span>

                                    <div class="skills_box">
                                                                                    <span class="t skills acrobatics roll_me" data-toggle="popover" data-bs-custom-class="dark-popover roll-popover text-bg-dark text-center" data-roll-branch="stats.base.dexterity.skills.acrobatics.value" data-dice="d20">Акробатика<span class="t skills_hints secondary_text">(Лов)</span></span>
                                                                                    <span class="t skills investigation roll_me" data-toggle="popover" data-bs-custom-class="dark-popover roll-popover text-bg-dark text-center" data-roll-branch="stats.base.intelligence.skills.investigation.value" data-dice="d20">Анализ<span class="t skills_hints secondary_text">(Инт)</span></span>
                                                                                    <span class="t skills athletics roll_me" data-toggle="popover" data-bs-custom-class="dark-popover roll-popover text-bg-dark text-center" data-roll-branch="stats.base.strength.skills.athletics.value" data-dice="d20">Атлетика<span class="t skills_hints secondary_text">(Сил)</span></span>
                                                                                    <span class="t skills perception roll_me" data-toggle="popover" data-bs-custom-class="dark-popover roll-popover text-bg-dark text-center" data-roll-branch="stats.base.wisdom.skills.perception.value" data-dice="d20">Внимательность<span class="t skills_hints secondary_text">(Мдр)</span></span>
                                                                                    <span class="t skills survival roll_me" data-toggle="popover" data-bs-custom-class="dark-popover roll-popover text-bg-dark text-center" data-roll-branch="stats.base.wisdom.skills.survival.value" data-dice="d20">Выживание<span class="t skills_hints secondary_text">(Мдр)</span></span>
                                                                                    <span class="t skills performance roll_me" data-toggle="popover" data-bs-custom-class="dark-popover roll-popover text-bg-dark text-center" data-roll-branch="stats.base.charisma.skills.performance.value" data-dice="d20">Выступление<span class="t skills_hints secondary_text">(Хар)</span></span>
                                                                                    <span class="t skills intimidation roll_me" data-toggle="popover" data-bs-custom-class="dark-popover roll-popover text-bg-dark text-center" data-roll-branch="stats.base.charisma.skills.intimidation.value" data-dice="d20">Запугивание<span class="t skills_hints secondary_text">(Хар)</span></span>
                                                                                    <span class="t skills history roll_me" data-toggle="popover" data-bs-custom-class="dark-popover roll-popover text-bg-dark text-center" data-roll-branch="stats.base.intelligence.skills.history.value" data-dice="d20">История<span class="t skills_hints secondary_text">(Инт)</span></span>
                                                                                    <span class="t skills sleight_of_hand roll_me" data-toggle="popover" data-bs-custom-class="dark-popover roll-popover text-bg-dark text-center" data-roll-branch="stats.base.dexterity.skills.sleight_of_hand.value" data-dice="d20">Ловкость рук<span class="t skills_hints secondary_text">(Лов)</span></span>
                                                                                    <span class="t skills arcana roll_me" data-toggle="popover" data-bs-custom-class="dark-popover roll-popover text-bg-dark text-center" data-roll-branch="stats.base.intelligence.skills.arcana.value" data-dice="d20">Магия<span class="t skills_hints secondary_text">(Инт)</span></span>
                                                                                    <span class="t skills medicine roll_me" data-toggle="popover" data-bs-custom-class="dark-popover roll-popover text-bg-dark text-center" data-roll-branch="stats.base.wisdom.skills.medicine.value" data-dice="d20">Медицина<span class="t skills_hints secondary_text">(Мдр)</span></span>
                                                                                    <span class="t skills deception roll_me" data-toggle="popover" data-bs-custom-class="dark-popover roll-popover text-bg-dark text-center" data-roll-branch="stats.base.charisma.skills.deception.value" data-dice="d20">Обман<span class="t skills_hints secondary_text">(Хар)</span></span>
                                                                                    <span class="t skills nature roll_me" data-toggle="popover" data-bs-custom-class="dark-popover roll-popover text-bg-dark text-center" data-roll-branch="stats.base.intelligence.skills.nature.value" data-dice="d20">Природа<span class="t skills_hints secondary_text">(Инт)</span></span>
                                                                                    <span class="t skills insight roll_me" data-toggle="popover" data-bs-custom-class="dark-popover roll-popover text-bg-dark text-center" data-roll-branch="stats.base.wisdom.skills.insight.value" data-dice="d20">Проницательность<span class="t skills_hints secondary_text">(Мдр)</span></span>
                                                                                    <span class="t skills religion roll_me" data-toggle="popover" data-bs-custom-class="dark-popover roll-popover text-bg-dark text-center" data-roll-branch="stats.base.intelligence.skills.religion.value" data-dice="d20">Религия<span class="t skills_hints secondary_text">(Инт)</span></span>
                                                                                    <span class="t skills stealth roll_me" data-toggle="popover" data-bs-custom-class="dark-popover roll-popover text-bg-dark text-center" data-roll-branch="stats.base.dexterity.skills.stealth.value" data-dice="d20">Скрытность<span class="t skills_hints secondary_text">(Лов)</span></span>
                                                                                    <span class="t skills persuasion roll_me" data-toggle="popover" data-bs-custom-class="dark-popover roll-popover text-bg-dark text-center" data-roll-branch="stats.base.charisma.skills.persuasion.value" data-dice="d20">Убеждение<span class="t skills_hints secondary_text">(Хар)</span></span>
                                                                                    <span class="t skills animal_handling roll_me" data-toggle="popover" data-bs-custom-class="dark-popover roll-popover text-bg-dark text-center" data-roll-branch="stats.base.wisdom.skills.animal_handling.value" data-dice="d20">Уход за животными<span class="t skills_hints secondary_text">(Мдр)</span></span>
                                                                            </div>

                                    <span id="t1q_1" class="t s4_1">Спасброски от смерти</span>
                                    <span id="t1r_1" class="t s4_1">Кость хитов</span>
                                    <span id="t1v_1" class="t s2_1 secondary_text">Всего</span>

                                    <span class="t s3_1 secondary_text title_attack_name">Название</span>
                                    <span class="t s3_1 secondary_text title_attack_bonus">Бонус атаки</span>
                                    <span class="t s3_1 secondary_text title_attack_damage_type">Урон/вид</span>

                                    <span id="t1w_1" class="t s4_1">Успехи</span>
                                    <span id="t1x_1" class="t s4_1">Провалы</span>
                                    <span id="t22_1" class="t s5_1"></span>
                                    <span id="t23_1" class="t s5_1">КД</span>

                                    <span class="t s5_1 panel2 title_current_hp">Текущие хиты</span>
                                    <span class="t s5_1 panel2 title_temporary_hp">Временные хиты</span>
                                    <span class="t s4_12 panel2 title_ideals">Идеалы</span>
                                    <span class="t s4_12 panel2 title_bonds">Привязанности</span>
                                    <span class="t s4_12 panel2 title_flaws">Слабости</span>
                                    <span class="t s4_12 panel2 title_personality_traits">Черты характера</span>

                                    <span class="t s5_1 title_speed">Скорость</span>
                                    <span id="t2f_1" class="t s5_1">Спасброски</span>
                                    <span id="t2h_1" class="t s5_1">Навыки</span></div>

                                                                    <span class="t main_stats_title roll_me stat_strength" data-toggle="popover" data-bs-custom-class="dark-popover roll-popover text-bg-dark text-center" data-roll-branch="stats.mod.strength" data-dice="d20">Сила</span>
                                                                    <span class="t main_stats_title roll_me stat_dexterity" data-toggle="popover" data-bs-custom-class="dark-popover roll-popover text-bg-dark text-center" data-roll-branch="stats.mod.dexterity" data-dice="d20">Ловкость</span>
                                                                    <span class="t main_stats_title roll_me stat_constitution" data-toggle="popover" data-bs-custom-class="dark-popover roll-popover text-bg-dark text-center" data-roll-branch="stats.mod.constitution" data-dice="d20">Телосложение</span>
                                                                    <span class="t main_stats_title roll_me stat_intelligence" data-toggle="popover" data-bs-custom-class="dark-popover roll-popover text-bg-dark text-center" data-roll-branch="stats.mod.intelligence" data-dice="d20">Интеллект</span>
                                                                    <span class="t main_stats_title roll_me stat_wisdom" data-toggle="popover" data-bs-custom-class="dark-popover roll-popover text-bg-dark text-center" data-roll-branch="stats.mod.wisdom" data-dice="d20">Мудрость</span>
                                                                    <span class="t main_stats_title roll_me stat_charisma" data-toggle="popover" data-bs-custom-class="dark-popover roll-popover text-bg-dark text-center" data-roll-branch="stats.mod.charisma" data-dice="d20">Харизма</span>
                                
                                <span class="t s7_1 title_inspiration">Вдохновение</span>
                                <span class="t s7_1 title_proficiency_bonus" data-toggle="tooltip" data-bs-original-title="Зависит от очков опыта">Бонус мастерства</span>
                                <span class="t s5_1 title_initiative">Инициатива</span>
                                <!-- End text definitions -->


                                <!-- Begin Form Data -->
                                                                    <div class="main_stats strength" data-mod="1" data-branch="stats.mod.strength">-1</div>
                                                                    <div class="main_stats dexterity" data-mod="1" data-branch="stats.mod.dexterity">0</div>
                                                                    <div class="main_stats constitution" data-mod="1" data-branch="stats.mod.constitution">+1</div>
                                                                    <div class="main_stats intelligence" data-mod="1" data-branch="stats.mod.intelligence">+3</div>
                                                                    <div class="main_stats wisdom" data-mod="1" data-branch="stats.mod.wisdom">0</div>
                                                                    <div class="main_stats charisma" data-mod="1" data-branch="stats.mod.charisma">+2</div>
                                
                                                                    <input class="main_stats_base strength" maxlength="2" type="text" data-cast="int" data-branch="stats.base.strength.value" autocomplete="off">
                                                                    <input class="main_stats_base dexterity" maxlength="2" type="text" data-cast="int" data-branch="stats.base.dexterity.value" autocomplete="off">
                                                                    <input class="main_stats_base constitution" maxlength="2" type="text" data-cast="int" data-branch="stats.base.constitution.value" autocomplete="off">
                                                                    <input class="main_stats_base intelligence" maxlength="2" type="text" data-cast="int" data-branch="stats.base.intelligence.value" autocomplete="off">
                                                                    <input class="main_stats_base wisdom" maxlength="2" type="text" data-cast="int" data-branch="stats.base.wisdom.value" autocomplete="off">
                                                                    <input class="main_stats_base charisma" maxlength="2" type="text" data-cast="int" data-branch="stats.base.charisma.value" autocomplete="off">
                                
                                <span class="class_level">
                                <input id="form1_1" type="text" data-branch="main.class_level" autocomplete="off">
                            </span>
                                <input id="form2_1" type="text" value="" data-branch="main.background" autocomplete="off">

                                                                                                            <input class="player_name" type="text" placeholder="Лев Жифарский" data-branch="main.player_name" autocomplete="off">
                                                                    
                                <input id="form4_1" class="character_name" type="text" value="" data-branch="main.name" autocomplete="off">
                                <input id="form5_1" type="text" value="" data-branch="main.race" autocomplete="off">
                                <input id="form6_1" type="text" value="" data-branch="main.alignment" autocomplete="off">
                                <input class="xp_points" type="text" value="" data-branch="stats.xp" autocomplete="off">
                                <div class="multi_checkbox inspiration_checkbox" data-states="none inspiration" data-branch="stats.inspiration"><span class="check none" title="Нет"></span></div>

                                <!-- input class="proficiency_bonus" type="text" value=""/ -->
                                <div class="proficiency_bonus" data-mod="1" data-branch="stats.proficiency_bonus" data-toggle="tooltip" aria-label="Зависит от очков опыта" data-bs-original-title="Зависит от очков опыта">+2</div>

                                <input id="form11_1" type="text" value="" data-branch="stats.ac" autocomplete="off">
                                <input id="form12_1" type="text" value="" data-branch="stats.initiative" autocomplete="off">
                                <input id="form13_1" type="text" value="" data-branch="stats.speed" autocomplete="off">

                                <textarea id="form14_1" data-branch="personality.traits" autocomplete="off"></textarea>
                                <textarea id="form18_1" data-branch="personality.ideals" autocomplete="off"></textarea>
                                <textarea id="form20_1" data-branch="personality.bonds" autocomplete="off"></textarea>
                                <textarea id="form31_1" data-branch="personality.flaws" autocomplete="off"></textarea>

                                <input id="form22_1" type="text" value="" data-branch="stats.hit_dice_total" autocomplete="off">
                                <input id="form30_1" type="text" value="" data-branch="stats.hit_dice" autocomplete="off">

                                <div id="form23_1" class="multi_checkbox death_saves_checkbox" data-states="unchecked checked" data-branch="stats.death_saves.successes.0"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form24_1" class="multi_checkbox death_saves_checkbox" data-states="unchecked checked" data-branch="stats.death_saves.successes.1"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form25_1" class="multi_checkbox death_saves_checkbox" data-states="unchecked checked" data-branch="stats.death_saves.successes.2"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form27_1" class="multi_checkbox death_saves_checkbox" data-states="unchecked checked" data-branch="stats.death_saves.failures.0"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form28_1" class="multi_checkbox death_saves_checkbox" data-states="unchecked checked" data-branch="stats.death_saves.failures.1"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form29_1" class="multi_checkbox death_saves_checkbox" data-states="unchecked checked" data-branch="stats.death_saves.failures.2"><span class="check unchecked" title="Нет владения"></span></div>

                                <!-- Savethrow checkbox -->
                                <div class="multi_checkbox savethrow_checkbox strength" data-states="unchecked checked" data-branch="stats.base.strength.savethrow.state"><span class="check unchecked" title="Нет владения"></span></div>
                                <div class="multi_checkbox savethrow_checkbox dexterity" data-states="unchecked checked" data-branch="stats.base.dexterity.savethrow.state"><span class="check unchecked" title="Нет владения"></span></div>
                                <div class="multi_checkbox savethrow_checkbox constitution" data-states="unchecked checked" data-branch="stats.base.constitution.savethrow.state"><span class="check unchecked" title="Нет владения"></span></div>
                                <div class="multi_checkbox savethrow_checkbox intelligence" data-states="unchecked checked" data-branch="stats.base.intelligence.savethrow.state"><span class="check checked" title="Владение"></span></div>
                                <div class="multi_checkbox savethrow_checkbox wisdom" data-states="unchecked checked" data-branch="stats.base.wisdom.savethrow.state"><span class="check checked" title="Владение"></span></div>
                                <div class="multi_checkbox savethrow_checkbox charisma" data-states="unchecked checked" data-branch="stats.base.charisma.savethrow.state"><span class="check unchecked" title="Нет владения"></span></div>
                                <!-- Savethrow input -->
                                <div class="savethrow_input strength" data-mod="1" data-branch="stats.base.strength.savethrow.value">-1</div>
                                <div class="savethrow_input dexterity" data-mod="1" data-branch="stats.base.dexterity.savethrow.value">0</div>
                                <div class="savethrow_input constitution" data-mod="1" data-branch="stats.base.constitution.savethrow.value">+1</div>
                                <div class="savethrow_input intelligence" data-mod="1" data-branch="stats.base.intelligence.savethrow.value">+5</div>
                                <div class="savethrow_input wisdom" data-mod="1" data-branch="stats.base.wisdom.savethrow.value">+2</div>
                                <div class="savethrow_input charisma" data-mod="1" data-branch="stats.base.charisma.savethrow.value">+2</div>

                                <!-- Skill checkbox -->
                                                                    <div class="multi_checkbox skill_checkbox acrobatics" data-states="unchecked checked x2 half" data-branch="stats.base.dexterity.skills.acrobatics.state"><span class="check unchecked" title="Нет владения"></span></div>
                                                                    <div class="multi_checkbox skill_checkbox investigation" data-states="unchecked checked x2 half" data-branch="stats.base.intelligence.skills.investigation.state"><span class="check unchecked" title="Нет владения"></span></div>
                                                                    <div class="multi_checkbox skill_checkbox athletics" data-states="unchecked checked x2 half" data-branch="stats.base.strength.skills.athletics.state"><span class="check unchecked" title="Нет владения"></span></div>
                                                                    <div class="multi_checkbox skill_checkbox perception" data-states="unchecked checked x2 half" data-branch="stats.base.wisdom.skills.perception.state"><span class="check unchecked" title="Нет владения"></span></div>
                                                                    <div class="multi_checkbox skill_checkbox survival" data-states="unchecked checked x2 half" data-branch="stats.base.wisdom.skills.survival.state"><span class="check unchecked" title="Нет владения"></span></div>
                                                                    <div class="multi_checkbox skill_checkbox performance" data-states="unchecked checked x2 half" data-branch="stats.base.charisma.skills.performance.state"><span class="check unchecked" title="Нет владения"></span></div>
                                                                    <div class="multi_checkbox skill_checkbox intimidation" data-states="unchecked checked x2 half" data-branch="stats.base.charisma.skills.intimidation.state"><span class="check unchecked" title="Нет владения"></span></div>
                                                                    <div class="multi_checkbox skill_checkbox history" data-states="unchecked checked x2 half" data-branch="stats.base.intelligence.skills.history.state"><span class="check checked" title="Владение"></span></div>
                                                                    <div class="multi_checkbox skill_checkbox sleight_of_hand" data-states="unchecked checked x2 half" data-branch="stats.base.dexterity.skills.sleight_of_hand.state"><span class="check unchecked" title="Нет владения"></span></div>
                                                                    <div class="multi_checkbox skill_checkbox arcana" data-states="unchecked checked x2 half" data-branch="stats.base.intelligence.skills.arcana.state"><span class="check checked" title="Владение"></span></div>
                                                                    <div class="multi_checkbox skill_checkbox medicine" data-states="unchecked checked x2 half" data-branch="stats.base.wisdom.skills.medicine.state"><span class="check unchecked" title="Нет владения"></span></div>
                                                                    <div class="multi_checkbox skill_checkbox deception" data-states="unchecked checked x2 half" data-branch="stats.base.charisma.skills.deception.state"><span class="check checked" title="Владение"></span></div>
                                                                    <div class="multi_checkbox skill_checkbox nature" data-states="unchecked checked x2 half" data-branch="stats.base.intelligence.skills.nature.state"><span class="check unchecked" title="Нет владения"></span></div>
                                                                    <div class="multi_checkbox skill_checkbox insight" data-states="unchecked checked x2 half" data-branch="stats.base.wisdom.skills.insight.state"><span class="check unchecked" title="Нет владения"></span></div>
                                                                    <div class="multi_checkbox skill_checkbox religion" data-states="unchecked checked x2 half" data-branch="stats.base.intelligence.skills.religion.state"><span class="check unchecked" title="Нет владения"></span></div>
                                                                    <div class="multi_checkbox skill_checkbox stealth" data-states="unchecked checked x2 half" data-branch="stats.base.dexterity.skills.stealth.state"><span class="check unchecked" title="Нет владения"></span></div>
                                                                    <div class="multi_checkbox skill_checkbox persuasion" data-states="unchecked checked x2 half" data-branch="stats.base.charisma.skills.persuasion.state"><span class="check checked" title="Владение"></span></div>
                                                                    <div class="multi_checkbox skill_checkbox animal_handling" data-states="unchecked checked x2 half" data-branch="stats.base.wisdom.skills.animal_handling.state"><span class="check unchecked" title="Нет владения"></span></div>
                                
                                <!-- Skill input -->
                                                                    <div class="skill_input acrobatics" data-mod="1" data-branch="stats.base.dexterity.skills.acrobatics.value">0</div>
                                                                    <div class="skill_input investigation" data-mod="1" data-branch="stats.base.intelligence.skills.investigation.value">+3</div>
                                                                    <div class="skill_input athletics" data-mod="1" data-branch="stats.base.strength.skills.athletics.value">-1</div>
                                                                    <div class="skill_input perception" data-mod="1" data-branch="stats.base.wisdom.skills.perception.value">0</div>
                                                                    <div class="skill_input survival" data-mod="1" data-branch="stats.base.wisdom.skills.survival.value">0</div>
                                                                    <div class="skill_input performance" data-mod="1" data-branch="stats.base.charisma.skills.performance.value">+2</div>
                                                                    <div class="skill_input intimidation" data-mod="1" data-branch="stats.base.charisma.skills.intimidation.value">+2</div>
                                                                    <div class="skill_input history" data-mod="1" data-branch="stats.base.intelligence.skills.history.value">+5</div>
                                                                    <div class="skill_input sleight_of_hand" data-mod="1" data-branch="stats.base.dexterity.skills.sleight_of_hand.value">0</div>
                                                                    <div class="skill_input arcana" data-mod="1" data-branch="stats.base.intelligence.skills.arcana.value">+5</div>
                                                                    <div class="skill_input medicine" data-mod="1" data-branch="stats.base.wisdom.skills.medicine.value">0</div>
                                                                    <div class="skill_input deception" data-mod="1" data-branch="stats.base.charisma.skills.deception.value">+4</div>
                                                                    <div class="skill_input nature" data-mod="1" data-branch="stats.base.intelligence.skills.nature.value">+3</div>
                                                                    <div class="skill_input insight" data-mod="1" data-branch="stats.base.wisdom.skills.insight.value">0</div>
                                                                    <div class="skill_input religion" data-mod="1" data-branch="stats.base.intelligence.skills.religion.value">+3</div>
                                                                    <div class="skill_input stealth" data-mod="1" data-branch="stats.base.dexterity.skills.stealth.value">0</div>
                                                                    <div class="skill_input persuasion" data-mod="1" data-branch="stats.base.charisma.skills.persuasion.value">+4</div>
                                                                    <div class="skill_input animal_handling" data-mod="1" data-branch="stats.base.wisdom.skills.animal_handling.value">0</div>
                                
                                <input id="form43_1" type="text" value="" data-branch="attacks_and_spellcasting.fields.0.name" autocomplete="off">
                                <input id="form44_1" type="text" value="" data-branch="attacks_and_spellcasting.fields.0.bonus" autocomplete="off">
                                <input id="form45_1" type="text" value="" data-branch="attacks_and_spellcasting.fields.0.damage_type" autocomplete="off">

                                <input id="form48_1" type="text" value="" data-branch="attacks_and_spellcasting.fields.1.name" autocomplete="off">
                                <input id="form49_1" type="text" value="" data-branch="attacks_and_spellcasting.fields.1.bonus" autocomplete="off">
                                <input id="form59_1" type="text" value="" data-branch="attacks_and_spellcasting.fields.1.damage_type" autocomplete="off">

                                <input id="form50_1" type="text" value="" data-branch="attacks_and_spellcasting.fields.2.name" autocomplete="off">
                                <input id="form51_1" type="text" value="" data-branch="attacks_and_spellcasting.fields.2.bonus" autocomplete="off">
                                <input id="form93_1" type="text" value="" data-branch="attacks_and_spellcasting.fields.2.damage_type" autocomplete="off">

                                <textarea id="form97_1" data-branch="attacks_and_spellcasting.text" autocomplete="off"></textarea>

                                <input id="form90_1" type="text" value="" data-branch="stats.hp_max" autocomplete="off">
                                <input id="form91_1" type="text" value="" data-branch="stats.hp_current" autocomplete="off">
                                <input id="form92_1" type="text" value="" data-branch="stats.hp_temporary" autocomplete="off">

                                <div class="passive_wisdom" data-branch="stats.passive_wisdom">10</div>

                                <textarea id="form100_1" data-branch="other_proficiencies_and_languages" autocomplete="off"></textarea>

                                <input id="form99_1" type="text" value="" data-branch="money.cp" autocomplete="off">
                                <input id="form101_1" type="text" value="" data-branch="money.sp" autocomplete="off">
                                <input id="form102_1" type="text" value="" data-branch="money.ep" autocomplete="off">
                                <input id="form103_1" type="text" value="" data-branch="money.gp" autocomplete="off">
                                <input id="form104_1" type="text" value="" data-branch="money.pp" autocomplete="off">

                                <textarea id="form105_1" data-branch="equipment" autocomplete="off"></textarea>
                                <textarea id="form106_1" data-branch="features_and_traits" autocomplete="off"></textarea>
                                <!-- End Form Data -->

                            </div>

                        </div>
                    </div>
                    <div class="page float-start list_2 mt-3">
                        <div class="page-inner">

                            <div id="p2" class="pageArea rounded">

                                <!-- Begin page background -->
                                <div class="svg_sheet_container" style="filter: hue-rotate(180deg) saturate(100%) brightness(100%) invert(100%);"><object id="pdf2" width="935" height="1210" data="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/2_colored.svg" type="image/svg+xml" style="width:935px; height:1210px; z-index: 0;"></object></div>
                                <!-- End page background -->

                                <!-- Begin text definitions (Positioned/styled in CSS) -->
                                <div class="text-container">
                                    <span id="t1_2" class="t s0_2">Имя персонажа</span>
                                    <span id="t2_2" class="t s0_2">Глаза</span>
                                    <span id="t3_2" class="t s0_2">Возраст</span>
                                    <span id="t4_2" class="t s0_2">Вес</span>
                                    <span id="t5_2" class="t s0_2">Высота</span>
                                    <span id="t6_2" class="t s0_2">Волосы</span>
                                    <span id="t7_2" class="t s0_2">Кожа</span>
                                    <span id="t8_2" class="t s1_2 secondary_text">Название</span>
                                    <span id="t9_2" class="t s2_2 panel4">Сокровища</span>
                                    <span id="ta_2" class="t s2_2">Предыстория персонажа</span>
                                    <span id="tb_2" class="t s2_2">Внешность персонажа</span>
                                    <span id="tc_2" class="t s2_2 panel4">Дополнительные умения и особенности</span>
                                    <span id="td_2" class="t s2_2 panel4">Союзники и организации</span>
                                    <span id="te_2" class="t s3_2 secondary_text">Символ</span>
                                    <span class="t s4_2 last_row secondary_text">TM &amp; © 2014 Wizards of the Coast LLC. Aternia.Games online character sheet.</span>
                                </div>
                                <!-- End text definitions -->

                                <!-- Begin Form Data -->
                                <input id="form1_2" class="character_name" type="text" value="" data-branch="main.name" autocomplete="off">

                                <input id="form2_2" type="text" value="" data-branch="appearance.age" autocomplete="off">
                                <input id="form3_2" type="text" value="" data-branch="appearance.height" autocomplete="off">
                                <input id="form4_2" type="text" value="" data-branch="appearance.weight" autocomplete="off">
                                <input id="form5_2" type="text" value="" data-branch="appearance.eyes" autocomplete="off">
                                <input id="form6_2" type="text" value="" data-branch="appearance.skin" autocomplete="off">
                                <input id="form7_2" type="text" value="" data-branch="appearance.hair" autocomplete="off">

                                <div id="upload_character_appearance" style="background-size: cover; background-repeat: no-repeat; background-position: 50% 50%; background-image: url(&quot;/storage/character_appearances/l1duJ8xAmi7nN1ZbmLUW0HNHTKxVNPYY68VdT1dU.jpg&quot;);">
                                    <i class="fa fa-file-upload text-secondary opacity-25 position-absolute top-50 start-50 translate-middle" style="font-size: 4.5rem; display: none;"></i>
                                    <i class="fa fa-file-xmark text-danger opacity-75 position-absolute translate-middle hidden" style="font-size: 2rem; top: 8%; right: 0;" data-toggle="tooltip" aria-label="Удалить файл" data-bs-original-title="Удалить файл"></i>
                                </div>

                                <textarea id="form10_2" data-branch="allies_and_organisations.text" autocomplete="off"></textarea>
                                <input id="form11_2" type="text" value="" data-branch="allies_and_organisations.name" autocomplete="off">
                                <textarea id="form9_2" data-branch="allies_and_organisations.symbol_text" autocomplete="off"></textarea>
                                <textarea id="form12_2" data-branch="character_backstory" autocomplete="off"></textarea>
                                <textarea id="form13_2" data-branch="additional_features_and_traits" autocomplete="off"></textarea>
                                <textarea id="form14_2" data-branch="treasure" autocomplete="off"></textarea>

                                <!-- End Form Data -->

                            </div>

                        </div>
                    </div>
                    <div class="page float-start list_3 mt-3">
                        <div class="page-inner">

                            <div id="p3" class="pageArea rounded">

                                <!-- Begin page background -->
                                <div class="svg_sheet_container" style="filter: hue-rotate(180deg) saturate(100%) brightness(100%) invert(100%);"><object id="pdf3" width="935" height="1210" data="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/3_colored.svg" type="image/svg+xml" style="width:935px; height:1210px; z-index: 0;"></object></div>
                                <!-- End page background -->

                                <!-- Begin text definitions (Positioned/styled in CSS) -->
                                <div class="text-container">
                                    <span id="t2_3" class="t s1_3">Класс</span>
                                    <span id="t3_3" class="t s1_3">Заклинателя</span>
                                    <span class="t m0_3 secondary_text">Известные заклинания</span>
                                    <span id="t5_3" class="t s3_3 secondary_text">Название заклинания</span>

                                    <span class="t circle_text s4_3 secondary_text">
                                    <span class="c_01">П</span>
                                    <span class="c_02">о</span>
                                    <span class="c_03">д</span>
                                    <span class="c_04">г</span>
                                    <span class="c_05">о</span>
                                    <span class="c_06">т</span>
                                    <span class="c_07">о</span>
                                    <span class="c_08">в</span>
                                    <span class="c_09">л</span>
                                    <span class="c_10">е</span>
                                    <span class="c_11">н</span>
                                    <span class="c_12">о</span>
                                </span>

                                    <span id="te_3" class="t s2_3 secondary_text">Уровень</span>
                                    <span id="tf_3" class="t s2_3 secondary_text">закл.</span>
                                    <span id="tg_3" class="t s2_3 secondary_text">Потрачено ячеек</span>
                                    <span id="th_3" class="t s2_3 secondary_text">Всего ячеек</span>
                                    <span id="tj_3" class="t s5_3">0</span>
                                    <span id="ti_3" class="t s5_3">1</span>
                                    <span id="tk_3" class="t s5_3">2</span>
                                    <span id="tl_3" class="t s5_3">3</span>
                                    <span id="tq_3" class="t s5_3">4</span>
                                    <span id="tr_3" class="t s5_3">5</span>
                                    <span id="tm_3" class="t s5_3">6</span>
                                    <span id="tn_3" class="t s5_3">7</span>
                                    <span id="to_3" class="t s5_3">8</span>
                                    <span id="tp_3" class="t s5_3">9</span>
                                    <span id="ts_3" class="t s1_3">Базовая</span>
                                    <span id="tt_3" class="t s1_3">характеристика</span>
                                    <span id="tu_3" class="t s1_3">Сложность спасения</span>
                                    <span id="tv_3" class="t s1_3">Бонус атаки</span>
                                    <span id="tw_3" class="t s1_3">заклинанием</span>
                                    <span id="tx_3" class="t s6_3">Заговоры</span>
                                    <span class="t s0_3 last_row secondary_text">TM &amp; © 2014 Wizards of the Coast LLC. Aternia.Games online character sheet.</span>
                                </div>
                                <!-- End text definitions -->


                                <!-- Begin Form Data -->
                                <input id="form1_3" type="text" value="" data-branch="spellcasting.class" autocomplete="off">
                                <select class="spellcasting_ability nice" data-branch="spellcasting.ability" style="display: none;" autocomplete="off">
                                    <option value="strength">Сил</option>
                                    <option value="dexterity">Лов</option>
                                    <option value="constitution">Тел</option>
                                    <option value="intelligence">Инт</option>
                                    <option value="wisdom">Мдр</option>
                                    <option value="charisma">Хар</option>
                                </select><div class="nice-select spellcasting_ability nice" tabindex="0"><span class="current">Инт</span><ul class="list"><li data-value="strength" class="option">Сил</li><li data-value="dexterity" class="option">Лов</li><li data-value="constitution" class="option">Тел</li><li data-value="intelligence" class="option selected">Инт</li><li data-value="wisdom" class="option">Мдр</li><li data-value="charisma" class="option">Хар</li></ul></div>
                                <div id="form3_3" data-branch="spellcasting.spell_save_dc" data-toggle="tooltip" aria-label="8 + Бонус мастерства + Модификатор базовой характеристики" data-bs-original-title="8 + Бонус мастерства + Модификатор базовой характеристики">13</div>
                                <div id="form4_3" data-branch="spellcasting.spell_attack_bonus" data-mod="1" data-toggle="tooltip" aria-label="Бонус мастерства + Модификатор базовой характеристики" data-bs-original-title="Бонус мастерства + Модификатор базовой характеристики">+5</div>

                                <!-- Заговоры -->
                                <input class="spell_name form7_3" type="text" data-branch="spells.0.list.0.name" autocomplete="off">
                                <input class="spell_name form9_3" type="text" data-branch="spells.0.list.1.name" autocomplete="off">
                                <input class="spell_name form10_3" type="text" data-branch="spells.0.list.2.name" autocomplete="off">
                                <input class="spell_name form11_3" type="text" data-branch="spells.0.list.3.name" autocomplete="off">
                                <input class="spell_name form12_3" type="text" data-branch="spells.0.list.4.name" autocomplete="off">
                                <input class="spell_name form13_3" type="text" data-branch="spells.0.list.5.name" autocomplete="off">
                                <input class="spell_name form14_3" type="text" data-branch="spells.0.list.6.name" autocomplete="off">
                                <input class="spell_name form15_3" type="text" data-branch="spells.0.list.7.name" autocomplete="off">

                                <!-- Разметка -->
                                <img src="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/unchecked.png" style="width: 16px; height: 16px; position: absolute; left: 45px; top: 531px;" alt="Подготовлено">

                                <!-- Уровень 1 -->
                                <input id="form5_3" type="text" data-branch="spells.1.slots_total" autocomplete="off">
                                <input id="form6_3" type="text" data-branch="spells.1.slots_expended" autocomplete="off">
                                <div id="form39_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.1.list.0.prepared"><span class="check checked" title="Владение"></span></div>
                                <div id="form40_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.1.list.1.prepared"><span class="check checked" title="Владение"></span></div>
                                <div id="form41_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.1.list.2.prepared"><span class="check checked" title="Владение"></span></div>
                                <div id="form42_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.1.list.3.prepared"><span class="check checked" title="Владение"></span></div>
                                <div id="form43_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.1.list.4.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form44_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.1.list.5.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form45_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.1.list.6.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form46_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.1.list.7.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form47_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.1.list.8.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form48_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.1.list.9.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form49_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.1.list.10.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form50_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.1.list.11.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <input class="spell_name form8_3" type="text" data-branch="spells.1.list.0.name" autocomplete="off">
                                <input class="spell_name form38_3" type="text" data-branch="spells.1.list.1.name" autocomplete="off">
                                <input class="spell_name form51_3" type="text" data-branch="spells.1.list.2.name" autocomplete="off">
                                <input class="spell_name form52_3" type="text" data-branch="spells.1.list.3.name" autocomplete="off">
                                <input class="spell_name form53_3" type="text" data-branch="spells.1.list.4.name" autocomplete="off">
                                <input class="spell_name form54_3" type="text" data-branch="spells.1.list.5.name" autocomplete="off">
                                <input class="spell_name form55_3" type="text" data-branch="spells.1.list.6.name" autocomplete="off">
                                <input class="spell_name form56_3" type="text" data-branch="spells.1.list.7.name" autocomplete="off">
                                <input class="spell_name form57_3" type="text" data-branch="spells.1.list.8.name" autocomplete="off">
                                <input class="spell_name form58_3" type="text" data-branch="spells.1.list.9.name" autocomplete="off">
                                <input class="spell_name form59_3" type="text" data-branch="spells.1.list.10.name" autocomplete="off">
                                <input class="spell_name form60_3" type="text" data-branch="spells.1.list.11.name" autocomplete="off">

                                <!-- Уровень 2 -->
                                <input id="form61_3" type="text" data-branch="spells.2.slots_total" autocomplete="off">
                                <input id="form62_3" type="text" data-branch="spells.2.slots_expended" autocomplete="off">
                                <div id="form179_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.2.list.0.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form180_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.2.list.1.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form181_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.2.list.2.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form182_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.2.list.3.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form183_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.2.list.4.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form184_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.2.list.5.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form185_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.2.list.6.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form186_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.2.list.7.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form187_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.2.list.8.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form188_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.2.list.9.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form189_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.2.list.10.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form190_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.2.list.11.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form191_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.2.list.12.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <input class="spell_name form75_3" type="text" data-branch="spells.2.list.0.name" autocomplete="off">
                                <input class="spell_name form63_3" type="text" data-branch="spells.2.list.1.name" autocomplete="off">
                                <input class="spell_name form64_3" type="text" data-branch="spells.2.list.2.name" autocomplete="off">
                                <input class="spell_name form65_3" type="text" data-branch="spells.2.list.3.name" autocomplete="off">
                                <input class="spell_name form66_3" type="text" data-branch="spells.2.list.4.name" autocomplete="off">
                                <input class="spell_name form67_3" type="text" data-branch="spells.2.list.5.name" autocomplete="off">
                                <input class="spell_name form68_3" type="text" data-branch="spells.2.list.6.name" autocomplete="off">
                                <input class="spell_name form69_3" type="text" data-branch="spells.2.list.7.name" autocomplete="off">
                                <input class="spell_name form70_3" type="text" data-branch="spells.2.list.8.name" autocomplete="off">
                                <input class="spell_name form71_3" type="text" data-branch="spells.2.list.9.name" autocomplete="off">
                                <input class="spell_name form72_3" type="text" data-branch="spells.2.list.10.name" autocomplete="off">
                                <input class="spell_name form73_3" type="text" data-branch="spells.2.list.11.name" autocomplete="off">
                                <input class="spell_name form74_3" type="text" data-branch="spells.2.list.12.name" autocomplete="off">

                                <!-- Уровень 3 -->
                                <input id="form76_3" type="text" data-branch="spells.3.slots_total" autocomplete="off">
                                <input id="form77_3" type="text" data-branch="spells.3.slots_expended" autocomplete="off">
                                <div id="form36_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.3.list.0.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form16_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.3.list.1.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form17_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.3.list.2.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form18_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.3.list.3.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form19_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.3.list.4.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form20_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.3.list.5.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form21_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.3.list.6.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form22_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.3.list.7.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form23_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.3.list.8.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form24_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.3.list.9.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form25_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.3.list.10.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form26_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.3.list.11.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form37_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.3.list.12.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <input class="spell_name form79_3" type="text" data-branch="spells.3.list.0.name" autocomplete="off">
                                <input class="spell_name form78_3" type="text" data-branch="spells.3.list.1.name" autocomplete="off">
                                <input class="spell_name form80_3" type="text" data-branch="spells.3.list.2.name" autocomplete="off">
                                <input class="spell_name form81_3" type="text" data-branch="spells.3.list.3.name" autocomplete="off">
                                <input class="spell_name form82_3" type="text" data-branch="spells.3.list.4.name" autocomplete="off">
                                <input class="spell_name form83_3" type="text" data-branch="spells.3.list.5.name" autocomplete="off">
                                <input class="spell_name form84_3" type="text" data-branch="spells.3.list.6.name" autocomplete="off">
                                <input class="spell_name form85_3" type="text" data-branch="spells.3.list.7.name" autocomplete="off">
                                <input class="spell_name form86_3" type="text" data-branch="spells.3.list.8.name" autocomplete="off">
                                <input class="spell_name form87_3" type="text" data-branch="spells.3.list.9.name" autocomplete="off">
                                <input class="spell_name form88_3" type="text" data-branch="spells.3.list.10.name" autocomplete="off">
                                <input class="spell_name form89_3" type="text" data-branch="spells.3.list.11.name" autocomplete="off">
                                <input class="spell_name form90_3" type="text" data-branch="spells.3.list.12.name" autocomplete="off">

                                <!-- Уровень 4 -->
                                <input id="form91_3" type="text" data-branch="spells.4.slots_total" autocomplete="off">
                                <input id="form92_3" type="text" data-branch="spells.4.slots_expended" autocomplete="off">
                                <div id="form114_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.4.list.0.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form155_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.4.list.1.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form156_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.4.list.2.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form157_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.4.list.3.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form158_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.4.list.4.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form159_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.4.list.5.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form160_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.4.list.6.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form161_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.4.list.7.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form162_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.4.list.8.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form163_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.4.list.9.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form164_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.4.list.10.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form165_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.4.list.11.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form166_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.4.list.12.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <input class="spell_name form94_3" type="text" data-branch="spells.4.list.0.name" autocomplete="off">
                                <input class="spell_name form93_3" type="text" data-branch="spells.4.list.1.name" autocomplete="off">
                                <input class="spell_name form95_3" type="text" data-branch="spells.4.list.2.name" autocomplete="off">
                                <input class="spell_name form96_3" type="text" data-branch="spells.4.list.3.name" autocomplete="off">
                                <input class="spell_name form97_3" type="text" data-branch="spells.4.list.4.name" autocomplete="off">
                                <input class="spell_name form107_3" type="text" data-branch="spells.4.list.5.name" autocomplete="off">
                                <input class="spell_name form108_3" type="text" data-branch="spells.4.list.6.name" autocomplete="off">
                                <input class="spell_name form109_3" type="text" data-branch="spells.4.list.7.name" autocomplete="off">
                                <input class="spell_name form110_3" type="text" data-branch="spells.4.list.8.name" autocomplete="off">
                                <input class="spell_name form111_3" type="text" data-branch="spells.4.list.9.name" autocomplete="off">
                                <input class="spell_name form112_3" type="text" data-branch="spells.4.list.10.name" autocomplete="off">
                                <input class="spell_name form113_3" type="text" data-branch="spells.4.list.11.name" autocomplete="off">
                                <input class="spell_name form115_3" type="text" data-branch="spells.4.list.12.name" autocomplete="off">

                                <!-- Уровень 5 -->
                                <input id="form116_3" type="text" data-branch="spells.5.slots_total" autocomplete="off">
                                <input id="form117_3" type="text" data-branch="spells.5.slots_expended" autocomplete="off">
                                <div id="form198_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.5.list.0.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form199_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.5.list.1.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form200_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.5.list.2.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form201_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.5.list.3.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form202_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.5.list.4.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form203_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.5.list.5.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form204_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.5.list.6.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form205_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.5.list.7.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form206_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.5.list.8.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <input class="spell_name form119_3" type="text" data-branch="spells.5.list.0.name" autocomplete="off">
                                <input class="spell_name form118_3" type="text" data-branch="spells.5.list.1.name" autocomplete="off">
                                <input class="spell_name form120_3" type="text" data-branch="spells.5.list.2.name" autocomplete="off">
                                <input class="spell_name form121_3" type="text" data-branch="spells.5.list.3.name" autocomplete="off">
                                <input class="spell_name form122_3" type="text" data-branch="spells.5.list.4.name" autocomplete="off">
                                <input class="spell_name form123_3" type="text" data-branch="spells.5.list.5.name" autocomplete="off">
                                <input class="spell_name form124_3" type="text" data-branch="spells.5.list.6.name" autocomplete="off">
                                <input class="spell_name form125_3" type="text" data-branch="spells.5.list.7.name" autocomplete="off">
                                <input class="spell_name form126_3" type="text" data-branch="spells.5.list.8.name" autocomplete="off">

                                <!-- Уровень 6 -->
                                <input id="form127_3" type="text" data-branch="spells.6.slots_total" autocomplete="off">
                                <input id="form128_3" type="text" data-branch="spells.6.slots_expended" autocomplete="off">
                                <div id="form27_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.6.list.0.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form28_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.6.list.1.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form29_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.6.list.2.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form30_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.6.list.3.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form31_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.6.list.4.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form32_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.6.list.5.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form33_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.6.list.6.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form34_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.6.list.7.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form35_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.6.list.8.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <input class="spell_name form130_3" type="text" data-branch="spells.6.list.0.name" autocomplete="off">
                                <input class="spell_name form129_3" type="text" data-branch="spells.6.list.1.name" autocomplete="off">
                                <input class="spell_name form131_3" type="text" data-branch="spells.6.list.2.name" autocomplete="off">
                                <input class="spell_name form132_3" type="text" data-branch="spells.6.list.3.name" autocomplete="off">
                                <input class="spell_name form133_3" type="text" data-branch="spells.6.list.4.name" autocomplete="off">
                                <input class="spell_name form134_3" type="text" data-branch="spells.6.list.5.name" autocomplete="off">
                                <input class="spell_name form135_3" type="text" data-branch="spells.6.list.6.name" autocomplete="off">
                                <input class="spell_name form136_3" type="text" data-branch="spells.6.list.7.name" autocomplete="off">
                                <input class="spell_name form137_3" type="text" data-branch="spells.6.list.8.name" autocomplete="off">

                                <!-- Уровень 7 -->
                                <input id="form138_3" type="text" data-branch="spells.7.slots_total" autocomplete="off">
                                <input id="form139_3" type="text" data-branch="spells.7.slots_expended" autocomplete="off">
                                <div id="form98_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.7.list.0.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form99_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.7.list.1.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form100_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.7.list.2.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form101_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.7.list.3.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form102_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.7.list.4.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form103_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.7.list.5.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form104_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.7.list.6.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form105_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.7.list.7.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form106_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.7.list.8.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <input class="spell_name form141_3" type="text" data-branch="spells.7.list.0.name" autocomplete="off">
                                <input class="spell_name form140_3" type="text" data-branch="spells.7.list.1.name" autocomplete="off">
                                <input class="spell_name form142_3" type="text" data-branch="spells.7.list.2.name" autocomplete="off">
                                <input class="spell_name form143_3" type="text" data-branch="spells.7.list.3.name" autocomplete="off">
                                <input class="spell_name form144_3" type="text" data-branch="spells.7.list.4.name" autocomplete="off">
                                <input class="spell_name form145_3" type="text" data-branch="spells.7.list.5.name" autocomplete="off">
                                <input class="spell_name form146_3" type="text" data-branch="spells.7.list.6.name" autocomplete="off">
                                <input class="spell_name form147_3" type="text" data-branch="spells.7.list.7.name" autocomplete="off">
                                <input class="spell_name form148_3" type="text" data-branch="spells.7.list.8.name" autocomplete="off">

                                <!-- Уровень 8 -->
                                <input id="form149_3" type="text" data-branch="spells.8.slots_total" autocomplete="off">
                                <input id="form150_3" type="text" data-branch="spells.8.slots_expended" autocomplete="off">
                                <div id="form168_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.8.list.0.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form169_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.8.list.1.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form170_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.8.list.2.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form171_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.8.list.3.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form172_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.8.list.4.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form173_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.8.list.5.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form176_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.8.list.6.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <input class="spell_name form152_3" type="text" data-branch="spells.8.list.0.name" autocomplete="off">
                                <input class="spell_name form151_3" type="text" data-branch="spells.8.list.1.name" autocomplete="off">
                                <input class="spell_name form153_3" type="text" data-branch="spells.8.list.2.name" autocomplete="off">
                                <input class="spell_name form154_3" type="text" data-branch="spells.8.list.3.name" autocomplete="off">
                                <input class="spell_name form167_3" type="text" data-branch="spells.8.list.4.name" autocomplete="off">
                                <input class="spell_name form174_3" type="text" data-branch="spells.8.list.5.name" autocomplete="off">
                                <input class="spell_name form175_3" type="text" data-branch="spells.8.list.6.name" autocomplete="off">

                                <!-- Уровень 9 -->
                                <input id="form177_3" type="text" data-branch="spells.9.slots_total" autocomplete="off">
                                <input id="form178_3" type="text" data-branch="spells.9.slots_expended" autocomplete="off">
                                <div id="form207_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.9.list.0.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form208_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.9.list.1.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form209_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.9.list.2.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form210_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.9.list.3.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form211_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.9.list.4.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form212_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.9.list.5.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <div id="form214_3" class="multi_checkbox spell_prepared" data-states="unchecked checked" data-branch="spells.9.list.6.prepared"><span class="check unchecked" title="Нет владения"></span></div>
                                <input class="spell_name form193_3" type="text" data-branch="spells.9.list.0.name" autocomplete="off">
                                <input class="spell_name form192_3" type="text" data-branch="spells.9.list.1.name" autocomplete="off">
                                <input class="spell_name form194_3" type="text" data-branch="spells.9.list.2.name" autocomplete="off">
                                <input class="spell_name form195_3" type="text" data-branch="spells.9.list.3.name" autocomplete="off">
                                <input class="spell_name form196_3" type="text" data-branch="spells.9.list.4.name" autocomplete="off">
                                <input class="spell_name form197_3" type="text" data-branch="spells.9.list.5.name" autocomplete="off">
                                <input class="spell_name form213_3" type="text" data-branch="spells.9.list.6.name" autocomplete="off">
                                <!-- End Form Data -->

                            </div>
                        </div>
                    </div>
            </div>

                        <div class="mt-5 mb-3">
                <div class="float-end">
                    <div class="form-check form-switch">
                        <input class="form-check-input sheet_switch bg-secondary" type="checkbox" role="switch" id="edit_log" autocomplete="off">
                        <label class="form-check-label" for="edit_log">Просмотр / редактирование</label>
                    </div>
                </div>
                <h4 class="me-2 d-inline-block">
                    Журнал приключения персонажа <span class="title_character_name">Либериус</span>
                    <span data-toggle="tooltip" aria-label="Поле для свободного ведения заметок по играм. Текст Журнала виден только владельцу листа!" data-bs-original-title="Поле для свободного ведения заметок по играм. Текст Журнала виден только владельцу листа!"><i class="fa fa-question-circle"></i></span>
                </h4>
                <select id="character_log_font" autocomplete="off">
                    <option value="Mulish" selected="">Шрифт Mulish</option><option value="Sirona">Шрифт Sirona</option><option value="Casanova">Шрифт Casanova</option><option value="Freeride">Шрифт Freeride</option><option value="SweetMavkaScript">Шрифт SweetMavkaScript</option>                </select>
                <span id="character_log_status" class="text-success">Сохранено</span>
            </div>
            
            <style>
                #upload_character_appearance:hover .fa-file-xmark {
                    display: block;
                }

                #character_list_container {
                    max-height: 84px;
                    overflow: hidden;
                    background: linear-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, 0), rgba(67,100,238,0.3));
                }

                /* Лог персонажа, todo: в CSS */
                #text_log, #text_log_view {
                    color: #565046;
                    align-items: center;
                    justify-content: flex-start;
                    padding: 30px 80px 120px 80px;
                    z-index: 1;
                    font-size: 16pt;
                    font-weight: 400;
                    line-height: 28pt;
                    filter: brightness(0.95) sepia(30%) saturate(80%);
                    background-size: 1000px;
                    background: url("/img/paper.png") center right;
                }
                #text_log_view p {
                    color: #565046;
                }
                #text_log_view {
                    & h1,
                    & h2,
                    & h3,
                    & h4,
                    & h5,
                    & h6 {
                        color: #35312b;
                    }
                }
                #text_log_view p:first-of-type span {
                    font-family: "Sirona", sans-serif;
                    font-size: 400%;
                    font-weight: 1;
                    opacity: 0.8;
                    color: #ae2d2d;
                }
            </style>

            <div class="w-100">
                <textarea id="text_log" rows="10" class="resize_with_content w-100 rounded-3 border-0 p-3 mb-3 hidden" style="height: 0px; overflow-y: hidden;" autocomplete="off"></textarea>
                <div id="text_log_view" class="aternia_markdown w-100 rounded-3 border-0 p-3 mb-3"></div>
                <div class="card bg-dark text-light w-100">
                    <div class="card-header">Разметка Журнала</div>
                    <div class="card-body">
                    <pre class="mb-0"># Большой заголовок
## Тоже заголовок
### Средний заголовок
#### Меньше
##### Меньше
###### Заголовок вообще маленький жесть

**Это жирный текст**

*Это текст курсивом*

~~А это зачёркнуто~~

[Ссылка на какой-то сайт](https://aternia.games/)

==Выделенный текст==

+ Элемент списка
+ Второй элемент
+ Третий

1. А это нумерованный список
2. И здесь тоже
3. И вот тут

Чтобы текст выделился в абзац, достаточно добавить один перенос.

Вот так.</pre>
                    </div>
                </div>
            </div>
            <style>
            </style>

        </div>

    </section>

    <div class="modal-window pdf_instructions">
        <div class="h-100 d-flex align-items-center justify-content-center">
            <div class="modal-close-switch"><i class="icon_close"></i></div>
            <section class="login spad">
                <div class="container">
                    <div class="row d-flex justify-content-center">
                        <div class="col-lg-12">
                            <div class="h-100 p-5 text-bg-dark rounded-3">
                                <h2 class="mb-4">Экспорт листа персонажа в PDF <i class="fa fa-file-pdf-o"></i></h2>
                                <p class="lead mt-2">Сохранение листа в PDF делается при помощи системного диалога печати.<br>Это значит, что в разных браузерах поведение может немного отличаться, но вот общие рекомендации:</p>
                                <ol>
                                    <li>После нажатия кнопки <span class="text-success">"Начать"</span>, в принтерах выберите не ваш принтер, а "Сохранить как PDF"</li>
                                    <li>Для экономии места на листе снимите галочку "Колонтитулы"</li>
                                    <li>Включите галочку "Фон", чтобы в файле сохранились все изображения и цвет фона. <span class="text-danger">Без этого лист будет поломанным.</span></li>
                                    <li>Уменьшите поля или увеличьте масштаб по вкусу</li>
                                    <li>Убедитесь, что в конце нет лишних листов. По какой-то причине туда любит подсовываться залитый чёрным лист, не тратьте чернила. В таком случае можно изменить диапазон страниц, и выбрать только те, что надо.</li>
                                </ol>
                                <hr class="my-4">
                                <p class="mb-2">В режиме печати изменения в листе не будут сохраняться на сервере, по окончанию экспорта просто перезагрузите страницу (F5).</p>
                                <div class="text-center mt-3">
                                    <button class="btn btn-lg btn-success start_pdf_export me-4">Начать</button>
                                    <button class="btn btn-lg btn-outline-danger" onclick="$(this).closest(&#39;.modal-window&#39;).find(&#39;.modal-close-switch&#39;).click();">Отмена</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
    <div class="modal fade" id="delete_sheet_modal" tabindex="-1" aria-labelledby="delete_sheet_modal" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content text-bg-dark">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="delete_sheet_modal">Удаление персонажа</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Закрыть"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="mb-3">
                            <label for="delete_sheet_confirmation" class="col-form-label" style="user-select: none;">Введите текст "Я понимаю, что делаю", без кавычек:</label>
                            <input type="text" class="form-control" id="delete_sheet_confirmation" onpaste="return false" autocomplete="off">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Отменить</button>
                    <button type="button" class="btn btn-danger" id="d3137343v3R">УДАЛИТЬ НАСОВСЕМ <i class="fa fa-fire"></i></button>
                </div>
            </div>
        </div>
    </div>
    <input type="file" name="character_appearance" id="appearance_uploader" class="hidden" accept="image/*" autocomplete="off">

    <link rel="modulepreload" href="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/character_sheet-w4tJEsv0.js"><script type="module" src="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/character_sheet-w4tJEsv0.js"></script>    <link rel="modulepreload" href="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/dice_tray-4g7gIEuV.js"><script type="module" src="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/dice_tray-4g7gIEuV.js"></script>    <link rel="preload" as="style" href="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/character_sheet-mbFTxilE.css"><link rel="stylesheet" href="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/character_sheet-mbFTxilE.css">
    <script type="text/javascript">

        /**
         * Господи, дай мне сил сесть за VueJS и нормальный фреймворк
         */
        // todo: race condition + save after lock
        $(document).ready(function(){

            $("input").attr("autocomplete", "off");
            $("textarea").attr("autocomplete", "off");
            $("select").attr("autocomplete", "off");

            let loaded = 0;

            let class_match = {
                "artificer": ["изобр"],
                "barbarian": ["варвар"],
                "bard": ["бард"],
                "cleric": ["жрец","клирик", "клерик"],
                "druid": ["друид"],
                "fighter": ["воин"],
                "monk": ["монах"],
                "paladin": ["паладин"],
                "ranger": ["следопыт", "рейндж", "охотник"],
                "rogue": ["плут","вор"],
                "sorcerer": ["чародей"],
                "warlock": ["колдун"],
                "wizard": ["волшебник"],
            };

            let checkboxes_config = { "unchecked": "Нет владения", "checked": "Владение", "x2": "Компетентность", "half": "Половина владения", "none": "Нет", "inspiration": "Вдохновение" };
            let sheet_settings = {
                                synchronize_url: "https://aternia.games/i/dnd/character_sheet/store",
                csrf_token: "B38hraQYY1ax3b0GM7Na8isuaz2YMH4lkco64d8b",
                on_sync: {
                    before: function($html_field) {
                        $('#char_save').removeClass("alert-success alert-danger").addClass("alert-warning").text("Идёт сохранение листа...").prop("disabled", true);
                        if ($html_field) {
                            $html_field.addClass('field-saving');
                            $html_field.prop("disabled", true);
                        }
                    },
                    success: function(response) {
                        $('#char_save').removeClass("alert-danger alert-warning").addClass("alert-success").text("Все изменения сохранены").prop("disabled", false);
                        $('#archived_list').html(response.archived_list);
                        $('#characters_list').html(response.list);
                        $('#rolls_log').find('.card-body').remove();
                        $('.add_rolls_after').after(response.last_rolls);
                        $('#characters_list').find('.character_description').each(function(){
                            let casual_text = $(this).text();
                            for (const class_name in class_match) {
                                for (const text_entry of class_match[class_name]) {
                                    if (casual_text.toLowerCase().indexOf(text_entry) !== -1) {
                                        $(this).addClass(class_name);
                                    }
                                }
                            }
                        });
                        $('#copy_character_link').val(response.link);
                        $('.title_character_name').html(response.sheet.character.main.name);
                        apply_styles(response.sheet.character.extra.background_colors);
                        set_character_image(response.sheet.character.appearance.url);
                        loaded++;
                        if (response.state === 'archive' || response.state === 'restore' || response.state === 'delete') {
                            location.reload();
                        }
                        if (response.state === 'duplicate') {
                            location.href = 'https://aternia.games/i/dnd/character_sheet';
                        }
                        $('#text_log').val(response.sheet_log_text);
                        $('#text_log_view').html(response.sheet_log_html);
                    },
                    error: function() {
                        $('#char_save').removeClass("alert-warning alert-success").addClass("alert-danger").text("Ошибка сохранения").prop("disabled", false);
                    },
                    html_update: function($element) {
                        if (loaded <= 1) {
                            return;
                        }
                        /*$element.css('background-color', 'rgba(122,122,122,0.5)');
                        setTimeout(function(){ $element.css('background-color', 'transparent'); }, 300);*/
                    },
                    complete: function($html_field) {
                        if ($html_field) {
                            $html_field.prop("disabled", false);
                            $html_field.removeClass('field-saving');
                        }
                    }
                },
                checkboxes_config: checkboxes_config
            };
            let character_sheet = new window.aternia.CharacterSheet(sheet_settings);

            let tray_settings = {
                url: "https://aternia.games/i/roll/roll",
                csrf_token: "B38hraQYY1ax3b0GM7Na8isuaz2YMH4lkco64d8b",
                on_sync: {
                    error: function () {
                        alert('Что-то пошло не так :( Попробуйте позже или перезагрузите страницу.');
                    }
                }
            };
            let dice_tray = new window.aternia.DiceTray(tray_settings);

            function onchange() {
                                let branch = $(this).data('branch');
                let cast = $(this).data('cast');
                if (branch === undefined) {
                    /*alert('Этот магический символ не связан ни с одним атрибутом вселенной.');
                    $(this).css('border', '2px solid red');*/
                    return;
                }
                branch = 'character.' + branch;
                if (!character_sheet.has(branch)) {
                    alert('Заклинание пошло не по плану. Последовательность: ' + branch);
                    return;
                }
                let value;
                if ($(this).hasClass('multi_checkbox')) {
                    let value_index = $(this).find(".check").data('state');
                    value = $(this).data('states').split(" ")[value_index];
                } else {
                    value = $(this).val();
                }
                if (cast === "int") {
                    value = parseInt(value);
                }
                character_sheet.set(branch, value); // Нужно для state: update, по идее
                character_sheet.synchronize({
                    state: "poke",
                    branch: branch,
                    value: value
                }, $(this));
                            }

            

            function pause_button($button) {
                $button.prop('disabled', true);
                setTimeout(function(){
                    $button.prop('disabled', false);
                }, 100);
            }

                        function setAppearance(uuid, file) {
                let formData = new FormData();
                formData.append('uuid', uuid);
                if (file !== null) {
                    formData.append('file', file);
                } else {
                    formData.append('delete', 1);
                }
                $.ajax({
                    url: "https://aternia.games/appearance_upload",
                    headers: { 'X-CSRF-Token': "B38hraQYY1ax3b0GM7Na8isuaz2YMH4lkco64d8b" },
                    type: "POST",
                    data: formData,
                    processData: false,
                    contentType: false,
                    success: function(response) {
                        if (response.status === 1) {
                            character_sheet.stop();
                            set_character_image(response.url);
                            location.reload();
                        } else {
                            alert(response.message);
                        }
                    },
                    error: function(response) {
                        alert(response.message); // todo: pills или как их там
                    }
                });
            }
            $('.fa-file-xmark').click(function(e){
                if (confirm('Вы уверены, что хотите удалить изображение с внешностью персонажа?')) {
                    setAppearance(
                        character_sheet.getUuid(),
                        null,
                    );
                }
                e.stopPropagation();
                return false;
            });
            $('#upload_character_appearance').click(function(){
                $('#appearance_uploader').trigger('click');
            });
            $("#appearance_uploader").on('change', function() {
                setAppearance(
                    character_sheet.getUuid(),
                    $('#appearance_uploader')[0].files[0],
                );
            });
                        function set_character_image(path) {
                if (path === '' || path === null || typeof path === 'undefined' || path.indexOf('.') === -1) {
                    $('#upload_character_appearance')
                        .css('background-image', 'unset')
                        .find('i.fa-file-upload').show();
                    $('#character_img').attr('src', '/img/black-paper.png').hide();
                    return;
                }
                $('#upload_character_appearance')
                    .css('background-image', `url('${path}')`)
                    .find('i.fa-file-upload').hide();
                $('#character_img').attr('src', path).show();
            }

                        $('.character_sheet input, .character_sheet textarea, .character_sheet select').change(onchange);
            //$('.main_stats_base').on('focusout', onchange);

            $('#characters_list').on('click', '.load_character', function(){
                let uuid = $(this).data('uuid');
                character_sheet.synchronize({
                    state: "read",
                    uuid: uuid
                });
            });
            let characters_container_height = null;
            $('#character_list_container').on('mouseenter touchstart', function(){
                characters_container_height = $(this).css('max-height');
                $(this).css('max-height', 'unset');
            });
            $('#character_list_container').on('mouseleave', function(){
                $(this).css('max-height', characters_container_height);
            });

            $('#archived_list').on('click', '.restore_sheet', function(){
                let uuid = $(this).data('uuid');
                character_sheet.synchronize({
                    state: "restore",
                    uuid: uuid
                });
            });

            $('#force_save').click(function(){
                character_sheet.synchronize({
                    state: "update"
                });
            });

            $('#archive_sheet').click(function(){
                character_sheet.synchronize({
                    state: "archive"
                });
                pause_button($(this));
            });

            $('body').on('click', '#create_sheet', function(){
                character_sheet.synchronize({
                    state: "create"
                });
            });

            $('#d3137343v3R').click(function(){
                if ($('#delete_sheet_confirmation').val().toLowerCase() !== "я понимаю, что делаю") {
                    return false;
                }
                $('#delete_sheet_confirmation').val("");
                character_sheet.synchronize({
                    state: "delete"
                });
            });
            const pasteBox = document.getElementById("delete_sheet_confirmation");
            pasteBox.onpaste = e => {
                e.preventDefault();
                return false;
            };

            $('.sheet_color_picker').on('click', '.sheet_color', function(){
                let hue_rotate = parseInt($(this).data('hue_rotate'));
                let saturate = parseInt($(this).data('saturate'));
                let brightness = parseInt($(this).data('brightness'));
                let invert = parseInt($(this).data('invert'));
                let color_id = parseInt($(this).data('id'));

                let background_colors = {
                    "hue_rotate": hue_rotate,
                    "saturate": saturate,
                    "brightness": brightness,
                    "invert": invert,
                    "dark": $(this).data('dark') ?? 0,
                    "classic": $(this).data('classic') ?? 0,
                    "id": color_id,
                };

                $('#sheet_colors_input').val(JSON.stringify(background_colors));
                $('#sheet_colors_input').trigger('change');
            });
            
            $('#duplicate_sheet').click(function(){
                character_sheet.synchronize({
                    state: "duplicate"
                });
            });

            function apply_styles(colors_object) {
                $('.page').toggleClass('dark_sheet', colors_object.dark === 1);
                for (let i=1;i<4;i++) {
                    let svg_path = null;
                    if (colors_object.classic === 1) {
                        svg_path = `https://aternia.games/character_sheet/svg/${i}.svg?v=1`;
                    } else {
                        svg_path = `https://aternia.games/character_sheet/svg/${i}_colored.svg?v=1`;
                    }
                    if ($(`#pdf${i}`).attr('data') !== svg_path) {
                        $(`#pdf${i}`).attr('data', svg_path);
                    }
                }
                let filter = `hue-rotate(${colors_object.hue_rotate}deg) saturate(${colors_object.saturate}%) brightness(${colors_object.brightness}%) invert(${colors_object.invert}%)`;
                $('.svg_sheet_container').css('filter', filter);
            }

            $('#wide_screen_switch').click(function(){
                if ($(this).is(':checked')) {
                    $('.container').addClass('wide');
                    $('.page').addClass('me-3');
                } else {
                    $('.container').removeClass('wide');
                    $('.page').removeClass('me-3');
                }
            });
            $('.toggle_list').change(function(){
                let list = $(this).data('list');
                if ($(this).is(':checked')) {
                    $('.list_' + list).removeClass('hidden');
                } else {
                    $('.list_' + list).addClass('hidden');
                }
            });

            $('#2pdf').click(function(){
                $('.modal-window.pdf_instructions').fadeIn(400);
            });
            $('.start_pdf_export').click(function(){
                make_pdf();
            });
            function make_pdf() {
                character_sheet.stop();

                $('.modal-close-switch').trigger('click');

                $('.main_announcement').remove();
                $('.character_sheet').siblings().remove();
                $('.character_sheet .controls').remove();
                $('.character_sheet').parent('div').removeClass('container').removeClass('glass');
                $('.character_sheet').closest('.product').css('padding', 'unset');
                $('.character_sheet').find('.page').css('display', 'block');
                $('.character_sheet').find('.page').removeClass('mt-3');
                $('body').css('background-image', 'none');
                $('body').css('background-color', '#FFF');
                $('#upload_character_appearance').find('i').remove();
                $('.character_sheet').closest('.product').css('background-color', '#FFF');
                $('header').remove();
                $('footer').remove();
                setTimeout(function(){
                    window.print();
                }, 100);
            }

            $(".check").each(function(){
                let states = $(this).closest('.multi_checkbox').data('states').split(" ");
                $(this).data("state", 0).addClass(states[0]).attr("title", checkboxes_config[states[0]]);
            });
            $(".multi_checkbox").click(function() {
                // todo: ffs2
                let states = $(this).data('states').split(" ");
                let current_state_index = $(this).find(".check").data("state");
                current_state_index++;
                let current_state = states[current_state_index % states.length];
                let title = checkboxes_config[current_state];
                $(this).find(".check").removeClass(states.join(" ")).addClass(current_state).data("state", current_state_index % states.length).attr("title", title);
                $(this).each(onchange);
            });

                        const popoverTriggerList = document.querySelectorAll('.roll_me');
            [...popoverTriggerList].map(popoverTriggerEl => new bootstrap.Popover(popoverTriggerEl, {
                content: function() {
                    let roll_branch = $(this).data('roll-branch');
                    let dice = $(this).data('dice');
                    let base_modifier = $('.character_sheet').find(`[data-branch="${roll_branch}"]`).text();
                    return `
                        <div class="mb-2">
                            Доп. мод. <span data-toggle="tooltip" title="На случай, если у вас есть артефакт или другого рода бонусы или помехи."><i class="fa fa-question-circle "></i></span>: <input type="text" placeholder="+0" class="d-inline form-control roll_modifier_input" style="width: 80px; border: 1px solid #7375b1;" />
                        </div>
                        <!--div class="mb-2 user-select-none">
                            <label><input type="checkbox" class="adv-dis d-inline-block me-1" name="adv-dis" />Преимущество/Помеха</label>
                        </div-->
                        <div>
                            <button class="btn btn-primary roll_formulae" data-branch-name="${roll_branch}" data-base-modifier="${base_modifier}" data-dice="${dice}">Сделать бросок <i class="fa fa-dice-${dice} align-middle"></i></button>
                        </div>
                    `;
                },
                html: true,
                sanitize: false
            }));
            popoverTriggerList.forEach((element) => element.addEventListener('shown.bs.popover', () => {
                $('.dark-popover [data-toggle="tooltip"]').tooltip();
            }));

            $('body').on('click', function (e) {
                $('[data-toggle=popover]').each(function () {
                    // hide any open popovers when the anywhere else in the body is clicked
                    if (!$(this).is(e.target) && $(this).has(e.target).length === 0 && $('.popover').has(e.target).length === 0) {
                        $(this).popover('hide');
                    }
                });
            });

            $('body').on('click', '.roll_formulae', function(e) {
                $(this).prop('disabled', true);
                let roll_modifier_input = $(this).closest('.popover').find('.roll_modifier_input').val();
                let branch_name = $(this).data('branch-name');
                let is_adv_dis = false;// $(this).closest('.popover').find('[name="adv-dis"]').is(':checked');
                let count = is_adv_dis ? 2 : 1;
                let dice = $(this).data('dice');
                if (roll_modifier_input === "") {
                    roll_modifier_input = 0;
                }
                let roll_modifier = parseInt(roll_modifier_input);
                if (isNaN(roll_modifier)) {
                    $(this).closest('.popover').find('.roll_modifier_input').addClass('is-invalid');
                    roll_modifier = 0;
                } else {
                    $(this).closest('.popover').find('.roll_modifier_input').removeClass('is-invalid');
                }
                let base_modifier = $(this).data('base-modifier');
                let dice_notation = count + dice + "+" + base_modifier + (roll_modifier === 0 ? '' : '+' + roll_modifier);
                dice_tray.roll({
                    sheet_uuid: character_sheet.getUuid(),
                    dice_notation: dice_notation,
                    branch_name: branch_name,
                    is_doubled: is_adv_dis
                }, function(response){
                    $('.add_rolls_after').after(response.new_roll_view);
                    $('#rolls_log').find('.card-body').first().hide().fadeIn();
                    // document.getElementById("rolls_log").scrollIntoView();
                    $('#rolls_log').trigger('click');
                });
                e.preventDefault();
            });
            
            $('#load_more_rolls').click(function(){
                let $element = $(this);
                let step = $(this).data('step');
                $.ajax({
                    url: "https://aternia.games/i/roll/more_rolls",
                    type: "POST",
                    headers: { 'X-CSRF-Token': "B38hraQYY1ax3b0GM7Na8isuaz2YMH4lkco64d8b" },
                    data: {
                        "sheet_uuid": character_sheet.getUuid(),
                        "step": step
                    },
                    success: function(response) {
                        if (response.status !== 1) {
                            alert('Что-то пошло не так :( Попробуйте позже или перезагрузите страницу.');
                        }
                        if (response.new_roll_view === "") {
                            $element.remove();
                            return;
                        }
                        $('.add_rolls_before').before(response.new_roll_view);
                        $element.data('step', step + 10);
                    },
                    error: function() {
                        alert('Что-то пошло не так :( Попробуйте позже или перезагрузите страницу.');
                    },
                    complete: function() {
                    }
                });
            });

            $('.xp_points').focus(function(){
                $('.xp_table').fadeIn();
            });
            $('.xp_points').blur(function(){
                setTimeout(function(){
                    $('.xp_table').fadeOut();
                }, 3000);
            });

            function array_count_values(array) {
                let counts = {};
                for(let i=0;i<array.length;i++) {
                    let key = array[i];
                    counts[key] = (counts[key]) ? counts[key] + 1 : 1;
                }
                return counts;
            }
            let dice_tray_pool = [];
            function render_dice_bag() {
                let counts = array_count_values(dice_tray_pool);
                let dice_bag_summands = [];
                for (let dice in counts) {
                    let count = counts[dice];
                    $('#dice_tray').find(`[data-dice="${dice}"]`).find('span.dice_count_badge').text(count).toggle(count > 0);
                    dice_bag_summands.push(`${count}${dice}`);
                }
                $('#dice_bag_notation_button').prop('disabled', false);
                $('#button_notation_text').text(dice_bag_summands.join('+'));
            }
            $('#dice_tray').on('click', '.dice_add', function(){
                let dice = $(this).parent('div').data('dice');
                dice_tray_pool.push(dice);
                render_dice_bag();
                $('#empty_dice_bag').removeClass('invisible').addClass('visible');
            });
            $('#empty_dice_bag').click(function(){
                dice_tray_pool.length = 0;
                let all_dice = [];
                $('#dice_tray').find('.dice_add_container').each(function(){
                    all_dice.push($(this).data('dice'));
                });
                for (let index in all_dice) {
                    let dice = all_dice[index];
                    $('#dice_tray').find(`[data-dice="${dice}"]`).find('span.dice_count_badge').text('0').hide();
                }
                $('#dice_bag_notation_button').prop('disabled', true);
                $('#button_notation_text').empty();
                $('#empty_dice_bag').removeClass('visible').addClass('invisible');
            });
            $('#dice_bag_notation_button').click(function(){
                $(this).prop('disabled', true);
                let dice_notation = $('#button_notation_text').text();
                dice_tray.roll(
                    {
                        sheet_uuid: character_sheet.getUuid(),
                        dice_notation: dice_notation
                    },
                    function(response) {
                        $('.add_rolls_after').after(response.new_roll_view);
                        $('#rolls_log').find('.card-body').first().hide().fadeIn();
                        $('#empty_dice_bag').trigger('click');
                    }
                );
            });
            $('#dice_tray').on('click', '.magic-ball', function(){
                dice_tray.roll(
                    {
                        sheet_uuid: character_sheet.getUuid(),
                        dice_notation: '?'
                    },
                    function(response) {
                        $('.add_rolls_after').after(response.new_roll_view);
                        $('#rolls_log').find('.card-body').first().hide().fadeIn();
                    }
                );
            });

            character_sheet.synchronize({
                state: "read"
            });

            function save_sheet_log() {
                $('#character_log_status').removeClass().addClass('text-warning').text('Сохранение');
                $.ajax({
                    url: "https://aternia.games/sheet_log",
                    type: "POST",
                    headers: { 'X-CSRF-Token': "B38hraQYY1ax3b0GM7Na8isuaz2YMH4lkco64d8b" },
                    data: {
                        uuid: character_sheet.getUuid(),
                        text: $("#text_log").val(),
                    },
                    success: function(response) {
                        if (response.status !== 1) {
                            $('#character_log_status').removeClass().addClass('text-error').text('Ошибка сохранения');
                        }
                        if (response.html) {
                            $('#text_log_view').html(response.html);
                            $('#character_log_status').removeClass().addClass('text-success').text('Сохранено');
                        }
                    },
                    error: function() {
                        $('#character_log_status').removeClass().addClass('text-error').text('Ошибка сохранения');
                    },
                    complete: function() {
                    }
                });
            }
            $('#text_log').change(save_sheet_log);
            $('#edit_log').click(function(){
                $('#text_log').toggleClass('hidden');
                $('#text_log_view').toggleClass('hidden');
                document.querySelectorAll("#text_log").forEach(t => t.dispatchEvent(new Event('input', { bubbles: true, cancelable: true })));
            });
            $('#character_log_font').change(function(){
                $('#text_log_view').css('font-family', $(this).val());
            });

            $('#update_character_link').click(function(){
                if (!confirm('Вы уверены? Старая ссылка перестанет работать навсегда.')) {
                    return;
                }
                $.ajax({
                    url: "https://aternia.games/i/dnd/character_sheet/update_link",
                    type: "POST",
                    headers: { 'X-CSRF-Token': "B38hraQYY1ax3b0GM7Na8isuaz2YMH4lkco64d8b" },
                    data: {
                        uuid: character_sheet.getUuid(),
                    },
                    success: function(response) {
                        if (response.status !== 1) {
                            alert(response.message);
                        }
                        window.location = "https://aternia.games/i/dnd/character_sheet";
                    },
                    error: function() {
                        alert('Неизвестная ошибка. Попробуйте позже');
                    },
                    complete: function() {
                    }
                });
            });
        });
    </script>


<!-- Footer Section Begin -->
<footer class="footer">
    <div class="page-up">
        <a href="https://aternia.games/i/dnd/character_sheet#" id="scrollToTopButton" class="aternia"><span class="arrow_carrot-up"></span></a>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-lg-3">
                <div class="footer__logo">
                    <a href="https://aternia.games/"><img src="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/logo.png" alt=""></a>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="footer__nav">
                    <ul>
                        <li><a href="https://aternia.games/about">О проекте</a></li>
                        <li>
                            <a target="_blank" href="https://discord.gg/aw2RGB5BQ2" class="text-light me-1" title="Наш сервер в Discord"><i class="fa-brands fa-discord" style="color: #5865f2;"></i></a>
                        </li>
                        <li>
                            <a target="_blank" href="https://t.me/aternia_games" class="text-light me-1" title="Наш канал в Telegram"><i class="fa-brands fa-telegram" style="color: #27a7e7;"></i></a>
                        </li>
                        <li>
                            <a target="_blank" href="https://boosty.to/aterniad?from=aternia" class="text-light me-1" title="Наш Boosty"><span style="color: #F15F2C;">Boosty</span></a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="col-lg-3">
                <div class="text-end">
                    Aternia Games © 2019 - 2025                </div>
                
                <div class="caption">«Воображение, покинутое разумом, порождает невиданных чудовищ, но в союзе с разумом оно — мать искусств и источник творимых ими чудес.»</div>
            </div>
        </div>
    </div>
</footer>
<!-- Footer Section End -->

<div class="modal-window login ease_fade">
    <div class="h-100 d-flex align-items-center justify-content-center">
        <div class="modal-close-switch"><i class="icon_close"></i></div>
        <section class="login spad">
            <div class="container">
                <div class="row d-flex justify-content-center">
                    <div class="col-lg-12">
                        <div class="h-100 p-5 text-bg-dark rounded-3">
                            <h2 class="mb-4">Добро пожаловать, путники</h2>
                            <p class="lead mt-2">Заходите, располагайтесь за любым свободным столиком. Опишите свою
                                внешность и мы тотчас отправимся в приключение! Но сперва вам нужно выбрать дверь...</p>
                            <hr class="my-4">
                            <p class="mb-2">После входа через соц. сеть вы сможете изменить своё имя и аватар.</p>
                            <div class="login__social__links mt-5">
                                <ul>
                                    <li><a href="https://aternia.games/auth/redirect?app=vkontakte" class="vk">Войти через VK</a></li>
                                    <li><a href="https://aternia.games/auth/redirect?app=yandex" class="yandex">Войти через Яндекс</a></li>
                                                                            <li><a href="https://aternia.games/auth/redirect?app=google" class="google">Войти через Google</a></li>
                                                                    </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>

    
<script src="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/lodash.min.js"></script>
<script src="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/jquery.nice-select.min.js"></script>
<script src="./Либериус - Интерактивный лист персонажа D&amp;D - Aternia Games_files/jquery.slicknav.js"></script>




</body></html>